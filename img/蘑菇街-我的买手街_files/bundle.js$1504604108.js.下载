!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("SearchHeaderBar",[],e):"object"==typeof exports?exports.SearchHeaderBar=e():t.SearchHeaderBar=e()}(this,function(){return function(t){function e(s){if(o[s])return o[s].exports;var a=o[s]={exports:{},id:s,loaded:!1};return t[s].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var o={};return e.m=t,e.c=o,e.p="",e(0)}([function(t,e,o){"use strict";o(1),window.MoGu=window.MoGu||{};var s=$("body"),a="qmall.mogujie.com"==location.host,r=window.location.href.indexOf("mlf=qmall"),i="//list.mogujie.com/module/mget?code=sketch,hotWord&platform=H5",n={};n.escapeHtml=function(t){return t&&t.replace?t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):""};var c=window.localStorage,d={keyName:"_mobile_header_history",maxLength:10,get:function(){return JSON.parse(c.getItem(this.keyName))||[]},getTenItem:function(){var t=this.get();return t.slice(0,this.maxLength)},set:function(t){try{c.setItem(this.keyName,JSON.stringify(t||[]))}catch(t){}},addOne:function(t){if(t=$.trim(t),""!=t){t=n.escapeHtml(t);var e=this.get(),o=$.inArray(t,e);o==-1?(e.unshift(t),e.length>this.maxLength&&e.pop()):(e.splice(o,1),e.unshift(t)),this.set(e)}},del:function(){c.removeItem(this.keyName)}},h=function(t){this.opts=$.extend({},this.defaults,t),this.hotword="",this.contentHeight="",this.$enterObj="",this.queryWord="",this.defaultTip="",this.$searchBoxContainer="",this.placeholder="",this.$sbSearch="",this.$sbForm="",this.$sbInput="",this.$sbSubmit="",this.$sbContent="",this.$sbHistory="",this.$sbHotwords="",this.$sbHisNone="",this.isFirst=!1,this.hotWordList={},this.baseWord={},this.init()};h.prototype={init:function(){var t=this;t.getHotwordBaseword(),t.$enterObj=t.opts.enterObj,t.$enterObj.length<1||t.getSearchContainerHtml()},eLogger:function(t){if(t&&window.logger&&window.logger.log){var e=window.logger.log;try{e("0x00000000",{acms:t})}catch(t){}}},resetPrePage:function(t){t<0&&(t=0);var e=this;s.unbind("touchmove"),setTimeout(function(){e.$searchBoxContainer.hide()},t)},getHotwordBaseword:function(){var t=this;M.http.jsonp({url:i}).then(function(e){if(e&&"SUCCESS"==e.returnCode&&e.data&&e.data.hotWord&&e.data.hotWord.data&&e.data.hotWord.data.length>0&&(t.hotWordList=e.data.hotWord.data),e&&"SUCCESS"==e.returnCode&&e.data&&e.data.sketch&&e.data.sketch.data&&(t.baseWord=e.data.sketch.data),t.opts.isNeedBaseWord&&!t.opts.baseWordObj.val()&&!t.opts.baseWordObj.attr("placeholder")&&!t.opts.baseWordObj.attr("data-query-word")){t.opts.baseWordObj.attr("placeholder",t.baseWord.frontword?t.baseWord.frontword:""),t.opts.baseWordObj.attr("data-query-word",t.baseWord.query?t.baseWord.query:"");var o=t.baseWord.acm?t.baseWord.acm:"",s=[];o&&(s.push(o),t.eLogger(s))}}).catch(function(){})},getSearchContainerHtml:function(){var t=this;if(s.find(".mb_searchBox").length<1){var e=['<div class="mb_searchBox" id="J_PopSearch">','<div class="mb_sb_search"></div>','<div class="mb_sb_content">','<div class="mb_sb_history"></div>','<div class="mb_sb_hotwords"></div>',"</div>","</div>"].join("");$(s).append(e),t.contentHeight=$(window).height(),t.$searchBoxContainer=$(".mb_searchBox"),t.$searchBoxContainer.css("height",t.contentHeight),t.$sbSearch=$(".mb_sb_search"),t.$sbHistory=$(".mb_sb_history"),t.$sbHotwords=$(".mb_sb_hotwords")}t.addEvent()},getSearchBarHtml:function(){var t=this,e=['<div class="mb_go2pre"></div>','<form class="mb_sb_form" action="">','<input class="mb_input_search" type="search" name="" title="" placeholder="'+n.escapeHtml(t.defaultTip)+'">','<a class="cube-acm-node mb_sb_submit" data-ext-acm="'+t.baseWord.acm+'">搜索</a>',"</form>"].join("");t.$sbSearch.html(e),t.$sbForm=$(".mb_sb_form"),t.$sbInput=$(".mb_input_search"),t.$sbSubmit=$(".mb_sb_submit"),t.$sbSearch.on("click",".mb_sb_submit",function(){var e=t.$sbSearch.find("input").val(),o=$(this);e?o.attr("data-ext-acm",""):e=t.queryWord,t.goSearch(e,o[0]),t.resetPrePage(1e3)}),t.$sbForm.on("submit",function(e){var o=t.$sbSearch.find("input").val(),s=t.$sbSubmit;o?s.attr("data-ext-acm",""):o=t.queryWord,e.preventDefault(),t.goSearch(o,t.$sbSubmit),t.resetPrePage(1e3)}),$(".mb_go2pre").on("click",function(e){t.resetPrePage(300)}),t.$searchBoxContainer.on("blur",".mb_sb_form",function(){var e=t.$searchBoxContainer;e.css({height:t.contentHeight,position:"fixed"})})},goSearch:function(t,e){var o=this,s="";s=n.escapeHtml(t?t:o.defaultTip?o.defaultTip:o.hotword),d.addOne(s),o.getUrl(s,e)},getUrl:function(t,e){var o=this,s=o.opts.searchLink,i="";t=$.trim(t),i=s?s+t:a||r>-1?"//qmall.mogujie.com/wall/s?q="+t:"//list.mogujie.com/wall/s?q="+t,o.addMultiLog(i,e)},goOtherLink:function(t,e){var o=this;o.addMultiLog(t,e)},addMultiLog:function(t,e){var o="",s=t;e&&e.attr&&e.attr("data-ext-acm")&&s.indexOf("acm")<0&&(o=e.attr("data-ext-acm"),s=s.indexOf("?")>-1?s+"&acm="+o:s+"?acm="+o);var a=window.logger;s=a&&a.generatePtpParams(s,e)||s,window.location.href=s},getHistorySearchHtml:function(){var t=this,e=d.getTenItem(),o=e.length,s=[],a=[];if(o>0){for(var r=0;r<o;r++)s.push('<li class="mb_sb_his_item_con"> <a class="cube-acm-node mb_sb_his_item">'+e[r]+"</a></li>");s=s.join(""),a=['<div class="mb_sb_his_none hide">暂无历史搜索</div>'].join("")}else a=['<div class="mb_sb_his_none show">暂无历史搜索</div>'].join("");var i=['<div class="mb_sb_his_head">','<i class="mb_shis"></i>','<span class="mb_shis_con">历史搜索</span>','<div class="mb_trashbin"></div>',"</div>",'<div class="mb_sb_his_items">',"<ul>"+s+"</ul>",a,"</div>"].join("");t.$sbHistory.html(i),t.$sbHisNone=$(".mb_sb_his_none"),t.$sbHistory.on("click",".mb_sb_his_item",function(){var e=$(this).text();t.goSearch(e,$(this)),t.resetPrePage(500)}),$(".mb_trashbin").on("click",function(){o&&(d.del(),t.$sbHistory.find("ul").remove(),t.$sbHisNone.removeClass("hide").addClass("show"))})},getHotSearchHtml:function(){for(var t=this,e=t.hotWordList,o=[],s=[],a=0;a<e.length;a++)if(e[a].frontword){var r=e[a].color,i=r&&"#"==r.slice(0,1)?r:"#"+r,n=r?"color:"+i+";":"",c=e[a].italic?"font-style: italic;":"",d=e[a].bold?"font-weight: bold;":"",h=e[a].tag,l=e[a].tag?'<span class="mb_sb_hot_item_after" style="background-image:url('+h+') "></span>':"",b=e[a].acm;o.push(b);var m=b?'data-ext-acm="'+b+'"':"";e[a].link?s.push('<li class="mb_sb_hot_item_con"> <a class="cube-acm-node mb_sb_hot_item"'+m+' style = "'+n+c+d+'" data-link="'+e[a].link+'">'+e[a].frontword+l+"</a></li>"):s.push('<li class="mb_sb_hot_item_con"> <a class="cube-acm-node mb_sb_hot_item"'+m+' style = "'+n+c+d+'">'+e[a].frontword+l+"</a></li>")}s=s.join("");var u=['<div class="mb_sb_hot_head">','<i class="mb_shot"></i>','<span class="mb_shot_con">热门搜索</span>','<div class="mb_sb_hot_items">',"<ul>"+s+"</ul>","</div>","</div>"].join("");t.$sbHotwords.html(u),t.hotword=e[0].query,t.eLogger(o),t.$sbHotwords.on("click",".mb_sb_hot_item",function(){var e=$(this),o=e.attr("data-link");if(o)t.goOtherLink(o,e);else{var s=e.text();t.goSearch(s,e),t.resetPrePage(500)}})},addEvent:function(){var t=this;t.$enterObj.on("touchstart",function(){return t.isFirst||(t.placeholder=t.$enterObj.val()||t.$enterObj.attr("placeholder")||t.$enterObj.find("input").val()||t.$enterObj.find("input").attr("placeholder"),t.queryWord=t.$enterObj.find("input").attr("data-query-word"),t.defaultTip=t.placeholder?t.placeholder:"",t.getSearchBarHtml(),t.getHistorySearchHtml(),t.hotWordList&&t.hotWordList.length>0&&t.getHotSearchHtml(),t.isFirst=!0),t.$searchBoxContainer.css("position","absolute"),t.$searchBoxContainer.show(),window.scrollTo(0,0),t.$sbInput.focus(),s.on("touchmove",function(t){t.preventDefault()}),!1})},defaults:{enterObj:$(".search-keywords"),searchLink:"",isNeedBaseWord:!1,baseWordObj:$(".search-form .search")}},MoGu.SearchHeaderBar=h,t.exports=h},function(t,e){}])});define("Swiper",function(){function n(n,t){"use strict";function e(){m=g.children,b=m.length,m.length<2&&(t.continuous=!1),E.transitions&&t.continuous&&m.length<3&&(g.appendChild(m[0].cloneNode(!0)),g.appendChild(g.children[1].cloneNode(!0)),m=g.children),x=new Array(m.length),w=n.getBoundingClientRect().width||n.offsetWidth,g.style.width=m.length*w+"px";for(var e=m.length;e--;){var i=m[e];i.style.width=w+"px",i.setAttribute("data-index",e),E.transitions&&(i.style.left=e*-w+"px",r(e,T>e?-w:e>T?w:0,0))}t.continuous&&E.transitions&&(r(s(T-1),-w,0),r(s(T+1),w,0)),E.transitions||(g.style.left=T*-w+"px"),$(n).hasClass("fadeMode")?($(n).css({visibility:"visible;",opacity:"0"}),$(n).fadeIn()):n.style.visibility="visible"}function i(){t.continuous?a(T-1):T&&a(T-1)}function o(){t.continuous?a(T+1):T<m.length-1&&a(T+1)}function s(n){return(m.length+n%m.length)%m.length}function a(n,e){if(T!=n){if(E.transitions){var i=Math.abs(T-n)/(T-n);if(t.continuous){var o=i;i=-x[s(n)]/w,i!==o&&(n=-i*m.length+n)}for(var a=Math.abs(T-n)-1;a--;)r(s((n>T?n:T)-a-1),w*i,0);n=s(n),r(T,w*i,e||y),r(n,0,e||y),t.continuous&&r(s(n-i),-(w*i),0)}else n=s(n),c(T*-w,n*-w,e||y);T=n,p(t.callback&&t.callback(T,m[T]))}}function r(n,t,e){u(n,t,e),x[n]=t}function u(n,t,e){var i=m[n],o=i&&i.style;if(h)for(var s=0;s<m.length;s++)m[s].style.position="absolute";o&&(o.webkitTransitionDuration=o.MozTransitionDuration=o.msTransitionDuration=o.OTransitionDuration=o.transitionDuration=e+"ms",v?h?o.left=t+"px":o.webkitTransform="translate3d("+t+"px,0,0)":h?o.left=t+"px":o.webkitTransform="translate("+t+"px,0)translateZ(0)",o.msTransform=o.MozTransform=o.OTransform="translateX("+t+"px)")}function c(n,e,i){if(!i)return void(g.style.left=e+"px");var o=+new Date,s=setInterval(function(){var a=+new Date-o;return a>i?(g.style.left=e+"px",D&&d(),t.transitionEnd&&t.transitionEnd.call(event,T,m[T]),void clearInterval(s)):void(g.style.left=(e-n)*(Math.floor(a/i*100)/100)+n+"px")},4)}function d(){L=setTimeout(o,D)}function l(){D=0,clearTimeout(L)}var v=!1;($.os.iphone&&$.os.version>="5"||$.os.android&&$.os.version>="4")&&(v=!0);var h=!1;$.os.iphone&&8==parseInt($.os.version)&&(h=!0,$(n.children[0]).height($(n).height()+"px"));var f=function(){},p=function(n){setTimeout(n||f,0)},E={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,transitions:function(n){var t=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var e in t)if(void 0!==n.style[t[e]])return!0;return!1}(document.createElement("swipe"))};if(n){var m,x,w,b,g=n.children[0];t=t||{};var T=parseInt(t.startSlide,10)||0,y=t.speed||300;t.continuous=void 0!==t.continuous?t.continuous:!0;var L,k,D=t.auto||0,M={},z={},I={handleEvent:function(n){switch(n.type){case"touchstart":this.start(n);break;case"touchmove":this.move(n);break;case"touchend":p(this.end(n));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":p(this.transitionEnd(n));break;case"resize":p(e.call())}t.stopPropagation&&n.stopPropagation()},start:function(n){var t=n.touches[0];M={x:t.pageX,y:t.pageY,time:+new Date},k=void 0,z={},g.addEventListener("touchmove",this,!1),g.addEventListener("touchend",this,!1)},move:function(n){if(!(n.touches.length>1||n.scale&&1!==n.scale)){t.disableScroll&&n.preventDefault();var e=n.touches[0];z={x:e.pageX-M.x,y:e.pageY-M.y},"undefined"==typeof k&&(k=!!(k||Math.abs(z.x)<Math.abs(z.y))),k||(n.preventDefault(),l(),t.continuous?(u(s(T-1),z.x+x[s(T-1)],0),u(T,z.x+x[T],0),u(s(T+1),z.x+x[s(T+1)],0)):(z.x=z.x/(!T&&z.x>0||T==m.length-1&&z.x<0?Math.abs(z.x)/w+1:1),u(T-1,z.x+x[T-1],0),u(T,z.x+x[T],0),u(T+1,z.x+x[T+1],0)))}},end:function(n){var e=+new Date-M.time,i=Number(e)<250&&Math.abs(z.x)>20||Math.abs(z.x)>w/2,o=!T&&z.x>0||T==m.length-1&&z.x<0;t.continuous&&(o=!1);var a=z.x<0;k||(i&&!o?(a?(t.continuous?(r(s(T-1),-w,0),r(s(T+2),w,0)):r(T-1,-w,0),r(T,x[T]-w,y),r(s(T+1),x[s(T+1)]-w,y),T=s(T+1)):(t.continuous?(r(s(T+1),w,0),r(s(T-2),-w,0)):r(T+1,w,0),r(T,x[T]+w,y),r(s(T-1),x[s(T-1)]+w,y),T=s(T-1)),t.callback&&t.callback(T,m[T])):t.continuous?(r(s(T-1),-w,y),r(T,0,y),r(s(T+1),w,y)):(r(T-1,-w,y),r(T,0,y),r(T+1,w,y))),g.removeEventListener("touchmove",I,!1),g.removeEventListener("touchend",I,!1),t.auto&&(D=t.auto||0)},transitionEnd:function(n){parseInt(n.target.getAttribute("data-index"),10)==T&&(D&&d(),t.transitionEnd&&t.transitionEnd.call(n,T,m[T]))}};return e(),D&&d(),E.addEventListener?(E.touch&&g.addEventListener("touchstart",I,!1),E.transitions&&(g.addEventListener("webkitTransitionEnd",I,!1),g.addEventListener("msTransitionEnd",I,!1),g.addEventListener("oTransitionEnd",I,!1),g.addEventListener("otransitionend",I,!1),g.addEventListener("transitionend",I,!1)),window.addEventListener("resize",I,!1)):window.onresize=function(){e()},{setup:function(){e()},slide:function(n,t){l(),a(n,t)},prev:function(){l(),i()},next:function(){l(),o()},getPos:function(){return T},getNumSlides:function(){return b},kill:function(){l(),g.style.width="auto",g.style.left=0;for(var n=m.length;n--;){var t=m[n];t.style.width="100%",t.style.left=0,E.transitions&&u(n,0,0)}E.addEventListener?(g.removeEventListener("touchstart",I,!1),g.removeEventListener("webkitTransitionEnd",I,!1),g.removeEventListener("msTransitionEnd",I,!1),g.removeEventListener("oTransitionEnd",I,!1),g.removeEventListener("otransitionend",I,!1),g.removeEventListener("transitionend",I,!1),window.removeEventListener("resize",I,!1)):window.onresize=null}}}}return n});define("Countdown",function(){function t(t){return(10>t?"0":"")+t}function i(t){try{var i=t.offset().top,e=t.height(),o=t.offset().left,s=t.width(),n=$(window).scrollTop(),h=$(window).scrollLeft(),r=$(window).width(),a=$(window).height(),d=i>=n&&n+a>i,u=i+e>n&&n+a>=i+e,c=n>i&&i+e>n+a,l=o>=h&&h+r>o,p=o+s>h&&h+r>=o+s,f=h>o&&o+s>h+r;return(d||u||c)&&(l||p||f)}catch(m){return!0}}function e(t){return"none"!=t.css("display")&&"hidden"!=t.css("visibility")&&0!=t.css("opacity")&&t.width()}var o=function(t,i){this.$el=t,this.__hasStop=!1,i=$.extend({time:0,template:"{{=it.day}}:{{=it.hour}}:{{=it.minute}}:{{=it.second}}"},i),this.endTime=Math.round(new Date/1e3)+parseInt(i.time),this.templateFn=MoGu.ui.getdoT().template(i.template),this._setTime(),this._render()};return o.prototype._setTime=function(){var t=this.endTime-Math.floor(new Date/1e3);if(0>=t)this.day=this.hour=this.minute=this.second=0,this.stop();else{this.second=t%60,t=Math.floor(t/60),this.minute=t%60;var i=Math.floor(t/60);this.hour=i-24*Math.floor(i/24),this.day=Math.floor(i/24)}},o.prototype._tick=function(){return this.second--,i(this.$el)&&e(this.$el)?this.__hasStop?(this._setTime(),this.__hasStop=!1,void this._render()):(this._setTime(),void this._render()):void(this.__hasStop=!0)},o.prototype._render=function(){this.$el.html(this.templateFn({hour:t(this.hour),minute:t(this.minute),second:t(this.second),day:t(this.day)}))},o.prototype.start=function(){var t=this;this.timer=setInterval(function(){t._tick.call(t)},1e3)},o.prototype.stop=function(){clearInterval(this.timer)},o});!function(a,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("h5_selection_wall",[],t):"object"==typeof exports?exports.h5_selection_wall=t():a.h5_selection_wall=t()}(this,function(){return function(a){function t(o){if(e[o])return e[o].exports;var i=e[o]={exports:{},id:o,loaded:!1};return a[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var e={};return t.m=a,t.c=e,t.p="",t(0)}([function(a,t,e){function o(a){var t=c.ptpCVal,e=c.ptpWallDoc;return a.cparam&&(e=c.ptpWallCpc),n.goods.getItemHtml(a,e,t)}function i(a){if(null!=a.wallobj){r.nav.init(a),r.storeCommonVarFromInitData(a),p&&p.scrollAjaxPushLog(a);var t=a.wall.docs||[];d.packageItems(t),a.wall.isEnd&&(d.scrollEnd(),"1"==a.param.page&&a.wall&&a.wall.docs&&0==a.wall.docs.length),_setWallParam("page",parseInt(a.param.page)+1),r.ajaxSuccCallBack&&r.ajaxSuccCallBack.apply(this,arguments)}}e(1);var n=(e(3),e(4)),s=(e(5),e(6)),l=e(7);MoGu.wall=MoGu.wall||{};var r=MoGu.wall,c={};c.wallObj=$("#wall_goods_box"),c.navObj=$("#wall_nav_box"),c["default"]={},c["default"].priceFilter=[{min:"0",max:"50",percent:0},{min:"50",max:"80",percent:0},{min:"80",max:"200",percent:0}];var d=new s({ajaxSuccBack:i,getItemHtmlFun:o,itemPackageNumMax:24}),p=new l;r.temp=n,r.Common=c,r.ajaxWallLoader=d,r.ajaxSuccCallBack=function(a){},r.ajaxErrorCallBack=function(a){},r.wallExposeLog=p,r.isMait="mait"==_getWallParam("cKey")||"mwp_mait"==_getWallParam("cKey"),r.nav={navObj:$("#wall_nav_box"),navObjId:"wall_nav_box",backTopObj:$("#cube_wall_module"),backTopObjId:"cube_wall_module",tabClass:"nav_tab",tabOnClass:"tab_on",isReady:!1,initNavFun:function(){},btnStartCallback:function(a){},btnEndCallback:function(a){}},r.nav.init=function(a){var t=this;return t.isReady?!1:(t.isReady=!0,t.navObj=$("#"+t.navObjId),t.backTopObj=$("#"+t.backTopObjId),t.initNavFun&&t.initNavFun.apply(this),_setWallParam("cpc_offset",0),void t.appendHtml(a))},r.nav.appendHtml=function(a){var t=this,e=a.sortFilter,o="",i=a.priceFilter||c["default"].priceFilter,n="";if(!e||!i)return $("#wall_nav_box").remove(),!1;e.length>0&&($.each(e,function(t,i){var n=i.sortKey==a.param.sort?"item_on":"";o+='<a style="width: '+parseInt(100/(e.length+1))+'%" href="javascript:;" class="item '+n+'" data-sort="'+i.sortKey+'" tab-index="'+t+'" ><span class="in_border">'+i.title+"</span></a>"}),o+=['<a style="width: '+parseInt(100/(e.length+1))+'%" href="javascript:;" class="price_btn" data-hide="0" tab-index="3" >','<span class="in_border">\u4ef7\u683c</span>','<div class="show_arrow_wrap flip_off"><div class="show_arrow"></div></div>',"</a>"].join("")),i.length>0&&$.each(i,function(a,t){n+='<div class="price_range_btn fl" data-min-price="'+t.min+'" data-max-price="'+t.max+'">'+t.min+" - "+t.max+"</div>"});var s=a.hotCates,l="";if(s&&s.length){var r="";$.each(s,function(a,t){if(t.img&&t.link&&t.title){if($("#cata_host").val()){var e=t.link.split("?");e[0]=$("#cata_host").val(),t.link=e.join("?")}r+='<a href="'+t.link+'" class="cate_item" style="background: url('+t.img+');background-size:100% 100%" >'+t.title+"</a>"}}),r&&(l='<div class="hot_cates_box"><div class="hot_cates_scroll">'+r+"</div></div>",t.navObj.addClass("wall_nav_hascates"))}var d=['<div class="nav_fixed">',l,'<div class="tab_items clearfix">',o,"</div>",'<div class="price_box " data-type="price">','<div class="price_level clearfix">',n,"</div>",'<div class="price_input clearfix">','<div class="label fl">\u533a\u95f4(\u5143)</div>','<input type="number" class="min_price fl">','<span class="fl"></span>','<input type="number" class="max_price fl">','<a class="confirm_btn fl">\u786e\u8ba4</a>',"</div>","</div>","</div>"].join("");t.navObj.append(d),t.initSortBtn(),t.initPriceBox()},r.nav.initSortBtn=function(){var a=this,t=a.navObj.find(".item");t.click(function(){var e=$(this);e.hasClass("item_on")||(t.removeClass("item_on"),e.addClass("item_on"),_setWallParam("sort",e.attr("data-sort")),a.initNaviTop(),p.pushTabClickLog(e))})},r.nav.initPriceBox=function(){var a=this,t=a.navObj.find(".price_btn"),e=a.navObj.find(".confirm_btn"),o=a.navObj.find(".price_range_btn"),i=a.navObj.find(".min_price"),n=a.navObj.find(".max_price");t.click(function(){$(this).hasClass("item_on")?a.hidePriceBox():(a.showPriceBox(),p.pushTabClickLog(t))}),e.click(function(){_setWallParam("minPrice",$.trim(i.val())),_setWallParam("maxPrice",$.trim(n.val())),a.initNaviTop()}),o.click(function(){i.val($(this).attr("data-min-price")),n.val($(this).attr("data-max-price")),e.trigger("click")})},r.nav.showPriceBox=function(){var a=this;a.navObj.find(".price_btn").addClass("item_on"),a.navObj.find(".price_box").addClass("price_box_show")},r.nav.hidePriceBox=function(){var a=this;a.navObj.find(".price_btn").removeClass("item_on"),a.navObj.find(".price_box").removeClass("price_box_show")},r.nav.initNaviTop=function(){var a=this;a.hidePriceBox();var t=a.backTopObj.length?a.backTopObj.offset().top:0;d.scrollReLoadAjax(t)},r.storeCommonVarFromInitData=function(a){c=$.extend(c,{ptpWallDoc:a.param&&a.param.ptpWallDoc?a.param.ptpWallDoc:"",ptpWallCpc:a.param&&a.param.ptpWallCpc?a.param.ptpWallCpc:"",ptpCVal:a.param&&a.param.ptpPartC?a.param.ptpPartC:""})},r.init=function(){r.isMait&&(p.listenOpen=!1,_setWallParam("pageSize",d.options.itemPackageNumMax)),d.init()},a.exports=r},function(a,t){},,function(a,t){function e(){if(MoGu.isInMoguApp){var a=new RegExp("(^|[?]|&)_av=([0-9]{3})","i"),t=window.location.search.match(a);if(t&&t[2]>400)return parseInt(t[2]);var e="",i="";if($.os.iphone&&(e=new RegExp("(mogujie4iphone).*/([0-9]{3})","i"),i=o.match(e),console.log(i),i&&i[2]>400))return parseInt(i[2]);if($.os.android&&(e=new RegExp("(mogujie4android).*/([0-9]{3})","i"),i=o.match(e),i&&i[2]>400))return parseInt(i[2])}return!1}window.MoGu=window.MoGu||{};var o=navigator.userAgent.toLowerCase();window._escapeHtml=function(a){return a&&a.replace?a.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):""},window._getQueryString=function(a,t){var t=t||window.location.search;if(!a){var e=t.substring(1,t.length).split(/[&=]/),o={};return $.each(e,function(a,t){a%2===0&&(o[t]=_escapeHtml(e[a+1]))}),o}var i=new RegExp("(^|&)"+a+"=([^&]*)(&|$)"),n=t.substr(1).match(i);return null!=n?_escapeHtml(n[2]):null},window._getWallParam=function(a){var t="",e=$('#wall_goods_box .ajax_param[param-name|="'+a+'"]');return e.length>0&&(t=e.val()),t},window._setWallParam=function(a,t){var e=$('#wall_goods_box .ajax_param[param-name|="'+a+'"]');e.length>0?e.val(t):$("#wall_goods_box .param_container").append('<input type="hidden" class="ajax_param" param-name="'+a+'" value="'+t+'" autocomplete="off" />')},window._getWallAllParams=function(){var a={},t=$("#wall_goods_box").find(".ajax_param");return t.each(function(){var t=$(this);t.attr("param-name")&&(a[t.attr("param-name")]=t.val())}),a},window._setWallAllParams=function(a){$.map(a,function(a,t){_setWallParam(t,a)})},window._getCookie=function(a){var t,e=new RegExp("(^| )"+a+"=([^;]*)(;|$)");return(t=document.cookie.match(e))?unescape(t[2]):null},window._isEmptyObject=function(a){for(var t in a)return!1;return!0},window._scrollTop=function(a){$(window).scrollTop(a),$.os.android&&(setTimeout(function(){$(window).scrollTop(a)},60),setTimeout(function(){$(window).scrollTop(a)},120),setTimeout(function(){$(window).scrollTop(a)},180))},MoGu.isInQQ=o.indexOf("qq/")>0,MoGu.isInMoguApp=o.indexOf("mogujie")>0,MoGu.mgVersion=e(),MoGu.isNewApp=MoGu.mgVersion>700;var i="micromessenger"==o.match(/MicroMessenger/i),n={};n.getHashParam=function(a){var t=location.hash?location.hash.replace(/.*#/,""):"",e=t.match(new RegExp("(^|&)"+a+"=([^&]*)(&|$)"));return null!=e?window._escapeHtml(e[2]):""},n.setHash=function(){var a=window._getWallParam("sort"),t=window._getWallParam("fcid"),e=window._getWallParam("pid");history.replaceState("",document.title,location.href.replace(location.hash,"")+"#sort="+a+"&fcid="+t+"&pid="+e+"&scroll="+$(window).scrollTop())},n.init=function(){var a=this,t=a.getHashParam("sort");t&&window._setWallParam("sort",t);var e=a.getHashParam("fcid");e&&window._setWallParam("fcid",e);var o=a.getHashParam("pid");o&&window._setWallParam("pid",o);var i=a.getHashParam("scroll"),n=0,s=setInterval(function(){n++;var a=$(window).scrollTop();n>=4||a==i?clearInterval(s):i?$(window).scrollTop(i):clearInterval(s)},250);$("body").on("touchstart","a",function(){a.setHash()})},i&&n.init(),window.addEventListener("pageshow",function(a){setTimeout(function(){$(window).trigger("scroll")},100),setTimeout(function(){$(window).trigger("scroll")},300),setTimeout(function(){$(window).trigger("scroll")},500)}),a.exports=!0},function(a,t){var e={},o=_getWallParam("_version")||"1",i=_getWallParam("cKey")||"";e.goods={isPagani:"mwp_mait"!=i&&"mait"!=i,isOnlyNormalGoods:!1,version:o,versionClass:"goods_item_v"+o,getStrLength:function(a){for(var t=0,e=0;e<a.length;e++){var o=a.charCodeAt(e);t+=o>=0&&128>=o?1:2}return t},getItemHtml:function(a,t,e){if(a.type&&this.isPagani){if(this.isOnlyNormalGoods&&2!=a.type)return!1;switch(a.type){case 1:return this.getWedgeImgHtml(a,t,e);case 2:return this.getGoodsHtml(a,t,e);case 6:return this.getWedgeTagHtml(a,t,e);case 7:default:return!1}}return this.getGoodsHtml(a,t,e)},getGoodsHtml:function(a,t,e){if(a.imgCode='suffix-model="goods_dpr" suffix-ratio="3:4"',a.topIcon="",a.lefttop_taglist&&a.lefttop_taglist.length>0&&(a.topIcon='<img class="top_icon" style="width: '+a.lefttop_taglist[0].w/200+'rem;" src="'+a.lefttop_taglist[0].img+'">'),a.index=a.index||0===a.index?a.index:"",a.ptpCVal=(e||"")+(t||""),61==this.version)return this.getItemVersion61(a);var o="",i="";a.leftbottom_taglist&&a.leftbottom_taglist.length>0&&(o="name_box_hastag",$.each(a.leftbottom_taglist,function(a,t){i+='<img class="fl" src="'+t+'">'}));var n=['<a href="'+a.link+'" class="goods_item fl"  goods-index="'+a.index+'" data-tradeitemid="'+a.tradeItemId+'" data-ptp-customc="'+a.ptpC+'" >','<div class="goods_img loading_bg_120 J_dynamic_imagebox" '+a.imgCode+' img-src="'+a.img+'">',a.topIcon,"</div>",'<div class="goods_info">','<div class="name_box '+o+' clearfix">','<p class="goods_name">'+a.title+"</p>",'<div class="tags">'+i+"</div>","</div>",'<div class="bot_box clearfix">','<p class="p_price fl" lang="en">&yen;'+a.price+"</p>",'<p class="p_feed fr">'+a.cfav+"</p>","</div>","</div>","</a>"].join("");return n},getItemVersion61:function(a){var t="",e="";if(a.leftbottom_taglist&&a.leftbottom_taglist.length>0&&$.each(a.leftbottom_taglist,function(a,t){e+='<span class="title_tag" style="background: '+t.bgColor+";color: "+t.color+'">'+t.content+"</span>"}),a.props&&1==a.props.length){var o=a.props[0],i=this.getStrLength(o);i>12?(t="single_title_tag",e+='<span class="title_tag name_long_tag text_hide" >'+o+"</span>"):e+='<span class="title_tag" >'+o+"</span>"}else a.props&&a.props.length>=2&&$.each(a.props,function(a,t){e+='<span class="title_tag" >'+t+"</span>"});var n='<p class="p_feed fr">'+a.cfav+"</p>";a.onSaleTime&&a.onSaleTime.length>0&&(n='<p class="p_feed p_feed_time fr">'+a.onSaleTime+"</p>");var o=['<a href="'+a.link+'" class="goods_item '+this.versionClass+' fl" data-ext-acm="'+a.acm+'" goods-index="'+a.index+'" data-tradeitemid="'+a.tradeItemId+'" data-ptp-customc="'+a.ptpC+'" >','<div class="goods_img loading_bg_120 J_dynamic_imagebox" '+a.imgCode+' img-src="'+a.img+'">',a.topIcon,"</div>",'<div class="goods_info">','<div class="name_box '+t+' clearfix">','<div class="name_tags">'+e+"</div>","</div>",'<div class="bot_box clearfix">','<p class="p_price fl" lang="en">&yen;'+a.price+"</p>",n,"</div>","</div>","</a>"].join("");return o},getFashionHtml:function(a,t,e){var o='suffix-model="add_code" suffix-code="330x440.v1cFO"',i="",n=0;if(a.image&&(i=a.image.img,n=a.image.h/a.image.w),n>1.33){var s=_getWallParam("ratio")||"3:4";o='suffix-model="goods_dpr" suffix-ratio="'+s+'"'}var l="";a.icon&&(l='<img class="top_icon" style="width: 0.6rem;" src="'+a.icon+'">');var r="";a.itemCount&&a.itemCount>=1&&(r='<div class="bot_link_box box-center-pack"><span class="bot_link_icon"></span><span class="bot_link_text">\u542b'+a.itemCount+"\u4ef6\u5546\u54c1</span></div>");var c="";a.isDaren&&a.darenImg&&(c='<img class="daren_icon" src="'+a.darenImg+'" >');var d=['<a href="'+(a.link?a.link:"javascript:;")+'" class="goods_item fashion_item fl" >','<div class="goods_img loading_bg_120 J_dynamic_imagebox" '+o+' img-src="'+i+'">',l+r,"</div>",'<div class="goods_info clearfix">','<div class="user_img fl J_dynamic_imagebox" img-src="'+a.avatar+'" suffix-model="goods_dpr" suffix-ratio="1:1" ></div>','<div class="user_info fl clearfix">','<p class="user_unick text_hide">'+(a.unick?a.unick:"")+"</p>",'<p class="user_cfans">\u7c89\u4e1d\uff1a'+(a.cfans?a.cfans:0)+"</p>","</div>",c,"</div>","</a>"].join("");return d},getWedgeTagHtml:function(a,t,e){var o=a.recommend;if(6!=o.length&&8!=o.length)return!1;var i="";$.each(o,function(a,t){i+='<a href="'+t.link+'" class="wall_tag box-center fl" ><span class="tag_t">'+t.title+"</span></a>"});var n=['<div class="goods_item '+this.versionClass+" wedge_item wedge_item"+o.length+' fl" >','<p class="tag_title" >- \u70ed\u5356\u63a8\u8350 -</p>','<div class="tag_list_box clearfix">',i,"</div>","</div>"].join("");return n},getWedgeImgHtml:function(a,t,e){var o=a.clientUrl,i=a.show&&a.show.img;if(!o||!i)return!1;var n=['<a href="'+o+'" class="goods_item goods_item_banner '+this.versionClass+' loading_bg_120 J_dynamic_imagebox fl" suffix-model="goods_dpr" suffix-ratio="999" img-src="'+i+'" >',"</a>"].join("");return n},noGoods:function(){return['<div class="no_goods_img"></div><p class="no_goods_tip">\u6ca1\u6709\u76f8\u5173\u7684\u5546\u54c1\u7ed3\u679c\u54e6~~</p>'].join("")}},window.MoGu=window.MoGu||{},MoGu.wall=MoGu.wall||{},MoGu.wall.temp=MoGu.wall.temp||e,a.exports=e},function(a,t){function e(a){a=a||32;for(var t="abcdefhijkmnprstwxyz2345678",e=t.length,o="",i=0;a>i;i++)o+=t.charAt(Math.floor(Math.random()*e));return o}var o=100,i=Date.now||function(){return(new Date).getTime()},n={opts:{objsClassName:"J_mod_hidebox",showCallback:null,showDistance:800},randomIdName:"",randomIdNum:0,modInner:{},init:function(){var a=this,t=$("."+a.opts.objsClassName);t.addClass("J_mod_show"),a.randomIdName="J_Dynmod_"+e(8)+"_";var n=i();$(window).scroll(function(t){var e=i();e-n>o&&(n=e,a.checkMod())})},checkMod:function(a){for(var t=a?a:$("body"),e=this,o=document.documentElement.scrollTop||document.body.scrollTop,i=t.find("."+e.opts.objsClassName),n=o-e.opts.showDistance,s=o+(document.documentElement.clientHeight||document.body.clientHeight)+e.opts.showDistance,l=i.length,r=0;l>r;r++){var c=i.eq(r),d=c.offset().top,p=d+c.height(),m=p>=n&&s>=d,u=""==!c.html();u&&c.addClass("J_mod_show"),!m&&u&&e.resetMod(c,"hide"),m&&!u&&e.resetMod(c,"show")}e.opts.showCallback&&e.opts.showCallback(),setTimeout(function(){MoGu.dynamicImage&&MoGu.dynamicImage.checkImages()},66)},resetMod:function(a,t){var e=this,o=e.modInner;a.attr("id")&&""!=a.attr("id")||(a.attr("id",e.randomIdName+e.randomIdNum),e.randomIdNum++),"hide"==t?(a.find(".J_loading").removeClass("J_loading"),a.find(".J_dynamic_img").attr("style",""),o[a.attr("id")]=a.html(),a.css({height:a.height()}),a.removeClass("J_mod_show"),a.html("")):(a.addClass("J_mod_show"),a.html(o[a.attr("id")]),a.css({height:"auto"}))},showCallback:function(){}};window.MoGu=window.MoGu||{},MoGu.dynamicDom||(n.init(),MoGu.dynamicDom=n),MoGu.dynamicDom=MoGu.dynamicDom||n,a.exports=MoGu.dynamicDom},function(a,t){window.MoGu=window.MoGu||{};var e=navigator.userAgent,o=e.indexOf("MSIE")>0,i=Date.now||function(){return(new Date).getTime()},n=o?200:50,s=function(a){var t={wallobj:$("#wall_goods_box"),wallobjId:"wall_goods_box",bottomHeight:2e3,ajaxSuccBack:null,getItemHtmlFun:null,itemPackageNumMax:40};this.options=$.extend(t,a)||{},this.isLoading=!1,this.ajaxData={},this.isAjaxEnd=!1,this.container=null,this.emptyClick=0,this.itemPackageHtml="",this.itemPackageNum=0,this.itemIndex=0,this.ajaxErrorNum=0,this.extCubeAcm=!1,this.itemTotalNum=0};s.prototype={initLoaderTimer:function(){var a=this;a.isAllowAjax();var t=i();$(window).scroll(function(e){var o=i();o-t>n&&(t=o,a.isAllowAjax())})},isAllowAjax:function(){var a=this;if(!a.isAjaxEnd&&!a.isLoading){var t=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop;t+$(window).height()>$(document).height()-a.options.bottomHeight&&a.getGoodsAjax()}},getGoodsAjax:function(){var a=this;a.isLoading=!0;var t=a.container,e=a.options.wallobj.find(".ajax_url").val(),o=(a.options.wallobj.find(".ajax_jsonp").val()||"",a.options.wallobj.find(".ajax_jsonpCallback").val()||"",a.options.wallobj.find(".mwp_api").val()),i=a.options.wallobj.find(".mwp_ver").val(),n=$("#url_param_names").val();if(n){var s=n.split(","),l=_getQueryString();if(s&&s.length&&l)for(var r=0;r<s.length;r++){var c=s[r]||"",d=l[c]||"";c&&d&&_setWallParam(c,d)}}var p=a.options.wallobj.find(".ajax_param"),m={},u=[];p.each(function(a){var t=$(this);m[t.attr("param-name")]=t.val(),u.push(t.val())});var g=u.join("_");if(a.ajaxData[g]){a.isLoading=!1,$(".wall_loading").remove();var f=a.ajaxData[g];f.isOldAjax=!0,a.setBackParams(f),a.options.ajaxSuccBack&&a.options.ajaxSuccBack(f)}else{0==$(".wall_loading ,#loading_wrap ,#loading_wrap_v2").length&&t.append('<div class="wall_loading"><span>\u6b63\u5728\u52a0\u8f7d\u4e2d\u3002\u3002\u3002\u3002</span></div>');var _=_getWallParam("cKey");if("mwp_mait"==_){var v=window.M&&M.MWP||window.MoGu&&MoGu.MWP;v.request(o,i,m).then(function(t){if(t.ret==v.Code.Success){var e=t.data;e.cKey=_,e.wallobj=a.options.wallobj,e.dataKey=g,e.params=m,a.handleAjaxResData(e)}else{var n="\u8bf7\u6c42\u8fd4\u56de\u5f02\u5e38",s=$.extend({},m,{cKey:_,api:o,ver:i,result:t});a.pushErrorLog(n,s)}a.isLoading=!1,$(".wall_loading").remove()})["catch"](function(t){a.isLoading=!1,$(".wall_loading").remove();var e="\u8bf7\u6c42\u8fd4\u56de\u5931\u8d25",n=$.extend({},m,{getType:"MWP",cKey:_,api:o,ver:i,err:t});a.pushErrorLog(e,n)})}else $.ajax({url:e,type:"get",dataType:"jsonp",data:m,success:function(t){if(null==t);else{var o,i,n="";if(n=t.success,t.returnCode?o=t.returnCode:t.status&&(o=t.status.code),i=t.result||t.data,(1001==o||"SUCCESS"==o||n)&&$.isPlainObject(i))i.cKey=_,i.wallobj=a.options.wallobj,i.dataKey=g,i.params=m,a.handleAjaxResData(i);else{var s="\u8bf7\u6c42\u8fd4\u56de\u5f02\u5e38",l=$.extend({},m,{errorType:"resultError",cKey:_,url:e,result:t});a.pushErrorLog(s,l)}}},error:function(t,o,i){var n="\u8bf7\u6c42\u8fd4\u56de\u5931\u8d25",t=t||{},s=$.extend({},m,{getType:"ajax",cKey:_,url:e,xhr_readyState:t.readyState,xhr_responseText:t.responseText,xhr_status:t.status,xhr_statusText:t.statusText,errorType:o,error:i});a.pushErrorLog(n,s)},complete:function(){a.isLoading=!1,$(".wall_loading").remove()}})}},handleAjaxResData:function(a){var t=this;if("mait"==a.cKey||"mwp_mait"==a.cKey){var e=(parseInt(a.nextPage)||2)-1;a.param={},a.param.page=e,a.wall={},a.wall.isEnd=a.isEnd,a.wall.docs=a.list}var o=a.param&&a.param.ptpPartC?a.param.ptpPartC:!1;if(a.wall&&a.wall.docs){var i=a.wall.docs;i.length>0&&(t.itemTotalNum+=i.length);for(var n=0;n<i.length;n++){var s=i[n];s&&(s.index=t.itemIndex,s.ptpC=o?o+"_"+s.index:"",t.extCubeAcm&&s.acm&&s.acm.indexOf&&s.acm.indexOf("mf_")<0&&(s.acm=s.acm+"-"+t.extCubeAcm+"-idx_"+s.index+"-mfs_"+t.itemTotalNum),t.itemIndex++)}}t.ajaxData[a.dataKey]=a,$(".wall_loading").remove(),t.isSureBack(a.params)&&(t.setBackParams(a),t.options.ajaxSuccBack&&t.options.ajaxSuccBack(a))},setBackParams:function(a){a.wall&&a.wall.cpc_offset&&_setWallParam("cpc_offset",a.wall.cpc_offset)},packageItems:function(a){var t=this,e=!1;if(!a||!a.length)return t.emptyClick++,t.emptyClick>5&&(t.scrollEnd(),t.emptyClick=0),!1;t.emptyClick=0;for(var o=0;o<a.length;o++){var i=a[o],n="";n=t.options.getItemHtmlFun&&t.options.getItemHtmlFun(i),n&&(t.itemPackageHtml+=n||"",t.itemPackageNum++),t.itemPackageNum>=t.options.itemPackageNumMax&&(t.pushPackageDom(),e=!0)}e||setTimeout(function(){t.isAllowAjax()},50)},pushPackageDom:function(){var a=this;if(a.itemPackageHtml&&a.itemPackageNum){var t='<div class="goods_list_mod clearfix J_mod_hidebox">'+a.itemPackageHtml+"</div>";a.options.wallobj.find(".J_scroll_wallbox").append(t),a.itemPackageHtml="",a.itemPackageNum=0,a.options.wallobj.find(".J_scroll_wallbox").css("height","auto"),setTimeout(function(){MoGu.dynamicImage&&MoGu.dynamicImage.checkImages()},80)}},addNoGoodsTip:function(){var a=this;if(MoGu.wall&&MoGu.wall.temp){var t=MoGu.wall.temp,e=t.goods.noGoods&&t.goods.noGoods()||'<div class="no_goods_img"></div><p class="no_goods_tip">\u6ca1\u6709\u76f8\u5173\u7684\u5546\u54c1\u7ed3\u679c\u54e6~~</p>';a.options.wallobj.find(".J_scroll_wallbox").append(e)}},addNoMoreTip:function(){var a=this;if(MoGu.wall&&MoGu.wall.temp){var t=MoGu.wall.temp,e=t.goods.noMore&&t.goods.noMore()||'<div id="like_list_nomore"><div>\u6ca1\u6709\u66f4\u591a\u5566~</div></div>';a.options.wallobj.find(".J_scroll_wallbox").append(e)}},scrollEnd:function(){var a=this;a.isAjaxEnd=!0,a.pushPackageDom()},isSureBack:function(a){var t=_getWallAllParams();return $.each(a,function(a,e){return t[a]!=e?!1:void 0}),!0},scrollReLoadAjax:function(a){var t=this;if(a&&a>0){var e=document.documentElement.scrollTop||document.body.scrollTop;e>a&&_scrollTop(a)}else _scrollTop(0);_setWallParam("page",1),t.reLoadAjax()},reLoadAjax:function(){var a=this,t=a.options.wallobj.find(".J_scroll_wallbox");t.css("height",$(window).height()),t.html(""),a.itemPackageHtml="",a.itemPackageNum=0,a.isAjaxEnd=!1,a.isLoading=!1,a.emptyClick=0,a.ajaxErrorNum=0,a.itemTotalNum=0,_setWallParam("cpc_offset",0),MoGu.wall&&MoGu.wall.wallExposeLog&&MoGu.wall.wallExposeLog.resetBaseParams&&MoGu.wall.wallExposeLog.resetBaseParams(),a.itemIndex=0,a.getGoodsAjax()},pushErrorLog:function(a,t){var e=this;if(e.ajaxErrorNum++,e.ajaxErrorNum>5&&e.scrollEnd(),window._trace&&_trace.sendMsg&&a&&t){var o=$.extend({},t,{_author:"lanpang,yanqi,changgong,buqu,shunfeng"});_trace.sendMsg(new Error(a),o)}MoGu.wall&&MoGu.wall.ajaxErrorCallBack&&MoGu.wall.ajaxErrorCallBack(t)},checkCubeAcm:function(){var a=this,t=a.container.parents&&a.container.parents().filter(".module_row").attr("data-acm");if(t&&t.split){var e=t.split(".");e.length>6&&e[6]&&(a.extCubeAcm=e[6])}},init:function(){var a=this;a.options.wallobj=$("#"+a.options.wallobjId),a.container=a.options.wallobj.find(".J_scroll_wallbox"),a.checkCubeAcm();var t=_getQueryString("mlf");t&&_setWallParam("mlf",encodeURI(t)),a.initLoaderTimer()}},MoGu.AjaxWallLoader=s,a.exports=s},function(a,t){var e=Date.now||function(){return(new Date).getTime()},o={},i=function(a){var t="",e=$('#wall_goods_box .ajax_param[param-name|="'+a+'"]');return e&&(t=e.val()),t};window.MoGu=window.MoGu||{};var n=function(a){var t=window.location.href,e=t.indexOf("isLog=true");e>-1&&window.console&&console.log&&console.log(a)},s=function(){var a=MoGu.mgVersion||MoGu.fn&&MoGu.fn.getAppVersion&&MoGu.fn.getAppVersion()||0;this.ver=a>0?a:"",this._mgjuuid=this.getCookie("__mgjuuid"),this.scrollIndTime=200,this.acms=[],this.cpcs=[],this.iids=[],this.indexs=[],this.cparams=[],this.ptpPartC="",this.eventid="70001",this.cpceventid="70004",this.fcid="",this.tabClickId="000000001",this.priceClickId="00000017",this.properties={tableName:"pop",fcid:"",q:""},this.defaultPos=0,this._timerAcm=null,this._timerCpc=null,this._timerLog=null,this.firstExpose=!1,this.listenOpen=!0,this.init()};s.prototype.init=function(){var a=this,t=e();$(window).scroll(function(o){if(a.listenOpen){var i=e();i-t>a.scrollIndTime&&(t=i,a.checkDomPos(),clearTimeout(a._timerLog),a._timerLog=setTimeout(function(){a.pushAcmLog(),a.pushCpcLog()},400))}})},s.prototype.getBaseParams=function(a){var t=this;t.ptpPartC=a.param.ptpPartC,t.eventid=a.param.eventId||"70001",t.cpceventid=a.param.cpcEventId||"70004",t.fcid=a.param.fcid||"",t.properties={tableName:a.param.sort||"",fcid:a.param.fcid||"",q:i("q")||""}},s.prototype.resetBaseParams=function(){var a=this;a.ptpPartC="",a.eventid="",a.fcid="",a.acms=[],a.cpcs=[],a.iids=[],a.indexs=[],a.cparams=[],a.defaultPos=0,clearTimeout(a._timerLog),a.firstExpose=!1},s.prototype.getCookie=MoGu.fn&&MoGu.fn.getCookie||MoGu.util&&MoGu.util.getCookie||function(a){var t,e=new RegExp("(^| )"+a+"=([^;]*)(;|$)");return(t=document.cookie.match(e))?unescape(t[2]):null},s.prototype.collectListData=function(a){if(a)for(var t=0;t<a.length;t++){var e=a[t];e.isExposed=!1,o[e.tradeItemId]=a[t],(e.index||0===e.index)&&(o[e.tradeItemId+"_"+e.index]=a[t])}},s.prototype.checkDomPos=function(){var a=this,t=$(".J_scroll_wallbox").find(".goods_item"),e=t.length;if(e)for(var i=document.documentElement.scrollTop||document.body.scrollTop,n=$(window).height(),s=i+n,l=0;e>l;l++){var r=t.eq(l);if(!r.attr("is-exposed")){var c=r.offset().top,d=s>=c;if(d){r.attr("is-exposed","true");var p=r.attr("data-tradeitemid");if(!p)continue;var m=r.attr("goods-index"),u={};m?u=o[p+"_"+m]:(u=o[p],u.index=a.defaultPos,a.defaultPos++),u&&(a.collectItemData(u,u.index),u.isExposed=!0)}}}},s.prototype.collectItemData=function(a,t){var e=this;a.tradeItemId&&(e.acms.push(a.acm),e.iids.push(a.tradeItemId),e.indexs.push(t),a.cparam&&(e.cpcs.push(a.tradeItemId),e.cparams.push(a.cparam)),e.acms.length>=30&&e.pushAcmLog(),e.cparams.length>=30&&e.pushCpcLog())},s.prototype.pushAcmLog=function(){var a=this,t={ver:a.ver,ptpPartC:a.ptpPartC,eventid:a.eventid,fcid:a.fcid,_mgjuuid:a._mgjuuid,acms:a.acms,cpcs:a.cpcs,iids:a.iids,indexs:a.indexs,properties:a.properties};a.iids.length?(n("\u89e6\u53d1\u56fe\u5899\u66dd\u5149\u6253\u70b9"),n(t),a.pushLog(t,a.eventid)):n("\u6ca1\u6709\u56fe\u5899\u6570\u636e\uff0c\u65e0\u6cd5\u89e6\u53d1\u5546\u54c1\u6253\u70b9"),a.acms=[],a.cpcs=[],a.iids=[],a.indexs=[]},s.prototype.pushCpcLog=function(){var a=this,t={ver:a.ver,ptpPartC:a.ptpPartC,eventid:a.cpceventid,fcid:a.fcid,_mgjuuid:a._mgjuuid,cparams:a.cparams};a.cparams.length?(n("\u89e6\u53d1cpc\u5546\u54c1\u66dd\u5149\u6253\u70b9."),n(t),a.pushLog(t,a.cpceventid)):n("\u6ca1\u6709cpc\u5546\u54c1\u6570\u636e\uff0c\u65e0\u6cd5\u89e6\u53d1cpc\u66dd\u5149\u6253\u70b9"),a.cparams=[]},s.prototype.pushLog=function(a,t){setTimeout(function(){if(window.logger&&logger.log)try{logger.log(t,a)}catch(e){n(e)}else if(window.detePtp&&detePtp.logFromtSend){var o=window.detePtp._collectParams||{};a.ptp_cnt=o.ptp_cnt||"",a.ptp_url=o.ptp_url||"",a.ptp_ref=o.ptp_ref||"";try{detePtp.logFromtSend("e",t,a)}catch(e){n(e)}}},1e3)},s.prototype.pushTabClickLog=function(a){var t=this,e={tableName:a.attr("tab-name")||a.text()||"",fcid:a.attr("tab-fcid")||i("fcid")||"",pid:a.attr("tab-pid")||i("pid")||"",q_:i("q")||"",index:parseInt(a.attr("tab-index"),10)>=0?a.attr("tab-index"):"",labelName:a.attr("tab-label")||""};n("\u89e6\u53d1tab\u70b9\u51fbE\u4e8b\u4ef6"),n(e),t.pushLog(e,t.tabClickId)},s.prototype.pushPriceClickLog=function(a){var t=this,e="",o=i("minPrice"),s=i("maxPrice");""==o&&""==s||(e=o+"_"+s);var l={tableName:"\u7b5b\u9009",name:i("q")||i("fcid")||"",priceType:e,defined:"0",serviceType:"",classfyTag:""};n("\u89e6\u53d1\u4ef7\u683c\u7b5b\u9009\u6309\u94ae\u70b9\u51fbE\u4e8b\u4ef6"),n(l),t.pushLog(l,t.priceClickId)},s.prototype.scrollAjaxPushLog=function(a){var t=this;t.listenOpen&&(t.getBaseParams(a),t.collectListData(a.wall.docs),t.firstExpose||setTimeout(function(){t.firstExpose=!0,t.checkDomPos(),t.pushAcmLog(),t.pushCpcLog()},0))},MoGu.WallExposeLog=s,a.exports=s}])});!function(n){function e(t){if(o[t])return o[t].exports;var r=o[t]={exports:{},id:t,loaded:!1};return n[t].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var o={};return e.m=n,e.c=o,e.p="",e(0)}([function(n,e,o){"use strict";function t(n){return n&&n.__esModule?n:{default:n}}var r=o(1),i=t(r);M.XCore=M.XCore||{},M.XCore.navigator=i.default},function(n,e,o){"use strict";function t(n,e,o,t){n&&(0===n.indexOf("//")&&(n=""+location.protocol+n),n=c(n,e),d?o&&o(n):t?location.replace(n):location.href=n)}function r(n){for(var e=["mgj://","meili://"],o=0,t=e.length;o<t;o++)if(0===n.indexOf(e[o]))return!0;return!1}function i(n,e,o){var t=new RegExp("([?&])"+e+"=.*?(&|$)","i"),r=n.indexOf("?")!==-1?"&":"?";return n.match(t)?n.replace(t,"$1"+e+"="+encodeURIComponent(o)+"$2"):n+r+e+"="+encodeURIComponent(o)}function c(n,e){var o=window.__logger||window.logger;if(o&&e){var t=e.c||"0",r=e.d||"0",c=o.ptp.getPtpCnt().replace(".0.0.","."+t+"."+r+".");n=i(n,"ptp",c);var a=e.acm||"",u=e.modAcm||"",d=e.acmIndex||0,p=e.acmTotal||0;if(window.M&&window.M.scope.cube){var f=window.M.scope.cube.utils.createCubeAcmObj(u,a,d,p);f&&(a=f.acm)}return a&&(n.indexOf("acm=")>0?n=n.replace(/(&?acm=)[^&]+/,"$1"+encodeURIComponent(a)):n+="&acm="+encodeURIComponent(a)),n}return n}Object.defineProperty(e,"__esModule",{value:!0});var a=o(2),u={do:function(){},isApp:function(){}};if(!window.M||!window.M.h5.hdp)throw new Error("### 请在模板引入M.js 及 hdp.js依赖");u=window.M.h5.hdp;var d=u.isApp("mogujie"),p=navigator.userAgent.toLocaleLowerCase().indexOf("xcore")===-1;e.default={open:function(n,e){t(n,e,function(n){p&&"1"!==(0,a.getQueryParam)(n)._xcore?location.href=n:r(n)?u.do("mgj.navigation.pushWindow",n,!0):u.do("mgj.navigation.pushWindow",n,!1)})},push:function(n,e){t(n,e,function(n){u.do("mgj.navigation.pushWindow",n,!0)})},replace:function(n,e){t(n,e,function(n){u.do("mgj.navigation.pushWindow",n,!1),setTimeout(function(){u.do("mgj.navigation.popWindow")},10)},!0)}}},function(n,e){"use strict";function o(n){var e=n.replace(/^\s+/,"").replace(/\s+$/,"").match(/([^?#]*)(#.*)?$/);if(!e)return{};var o=e[1],t=o.split("&"),r={};return t.forEach(function(n){var e="";if(e=n.split("=",1)[0]){var o=decodeURIComponent(e),t=n.substring(o.length+1);void 0!=t&&(t=decodeURIComponent(t)),o in r?(r[o].constructor!=Array&&(r[o]=[r[o]]),r[o].push(t)):r[o]=t}}),r}Object.defineProperty(e,"__esModule",{value:!0}),e.getQueryParam=o}]);