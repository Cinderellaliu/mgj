!function(){window.$&&window.require&&(window.modJsRequire=function(e,n,t,o){"function"==typeof n&&(t=arguments[1],o=arguments[2],n=null),require(e,function(){var e=Array.from?Array.from(arguments):Array.prototype.slice.call(arguments),o=this;n&&$(n).length?$(n).each(function(n,r){t&&t.apply(o,e.concat([r,n]))}):t&&t.apply(this,e)},o)})}(),define("core/core",[],function(){var e={Config:{debug:"@DEBUG@"},version:"undefined@",appEnv:"Env",data:{},widget:{},_global:{}};return window.MoGu=window.MoGu||{},$.extend(window.MoGu,e),window.MoGu}),define("core/evoke",["core/core"],function(e){function n(e){this.options={opentype:"index",param:null,downUrl:"https://a.app.qq.com/o/simple.jsp?pkgname=com.mogujie&g_f=991699"},this.ua=null,this.src=null,this.merge(e),this.getUA(),this.getSrc(),this.evoke()}return n.prototype={merge:function(e){if("object"!=typeof e)return!1;var n=this.options;for(var t in n)("object"==typeof e[t]||e[t])&&(n[t]=e[t])},getUA:function(){var e=navigator.userAgent.toLowerCase(),n=this;n.ua={mobile:!!e.match(/applewebKit.*mobile.*/),ios:!!e.match(/\(i[^;]+;( u;)? cpu.+mac os x/),chrome:e.indexOf("chrome")>-1,isVessel:e.indexOf("mogujie")>-1,isNative:e.indexOf("mogujie")>-1&&e.indexOf("nonative")==-1}},evoke:function(){var e=this;e.ua.isNative?window.location.href="mgj://"+e.src:e.ua.ios?e.iosEvoke():e.ua.chrome?e.androidChrome():e.androidNotChrome()},iosEvoke:function(){var e=this,n=new Date;return window.setTimeout(function(){var t=new Date;t-n<5e3&&"object"!=typeof e.options.downUrl?window.location=e.options.downUrl:window.close()},25),"object"!=typeof e.options.downUrl&&void(window.location="mogujie://open?url="+encodeURIComponent("mgj://"+e.src))},androidNotChrome:function(){var e=this,n="mogujie://index?url="+encodeURIComponent("mgj://"+e.src),t=document.createElement("iframe");return t.src=n,t.style.display="none",document.body.appendChild(t),"object"!=typeof e.options.downUrl&&void(window.location=e.options.downUrl)},androidChrome:function(){var e=this,n="intent://index?url="+e.src+"#Intent;scheme=mogujie;package=com.mogujie;end",t=document.createElement("a");return t.href=n,t.style.display="none",document.body.appendChild(t),setTimeout(function(){t.click()},1e3),"object"!=typeof e.options.downUrl&&void(window.href=e.options.downUrl)},getSrc:function(){var e=this,n=e.options.param,t="";if(n&&"object"==typeof n)for(var o in n)t=t?t+"&":"?"+t,t=t+o+"="+n[o];e.src=e.options.opentype+t}},e.Evoke=n,e}),define("core/const",["core/core"],function(e){return e.Const={},e}),define("core/polyfill",["core/core"],function(e){return function(){for(var e=0,n=["ms","moz","webkit","o"],t=0;t<n.length&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[n[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[n[t]+"CancelAnimationFrame"]||window[n[t]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n,t){var o=+new Date,r=Math.max(0,16-(o-e)),i=window.setTimeout(function(){n(o+r)},r);return e=o+r,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),e}),define("core/ua",["core/core"],function(e){$.extend(e,{ua:function(){var n=navigator.userAgent.toLowerCase(),t={};return t["native"]=n.indexOf("mogujie")>-1&&n.indexOf("nonative")<0,t.wechat=n.indexOf("micromessenger")>-1,t["native"]&&window.mgj&&mgj.device&&mgj.device.getInfo(function(n){e&&e.ua&&$.extend(e.ua,{appInfo:n})}),$.os?t=$.extend(!0,t,$.os):t.phone=!1,t}()});var n=navigator.userAgent.toLowerCase(),t=new RegExp("(^|\\?|&)_f_channel=([^&]*)(\\s|&|$)","i"),o=t.test(window.location.href.split("#")[0])?RegExp.$2.replace(/\+/g," "):"";return e.channel="",e.isMeiliIncApp=!1,/mogujie/.test(n)?(e.isMeiliIncApp=!0,e.channel="MOGUJIE"):/meilishuo/.test(n)?(e.isMeiliIncApp=!0,e.channel="MEILISHUO"):/amcustomer/.test(n)?(e.isMeiliIncApp=!0,e.channel="TAOSHIJIE"):/go4iphone/.test(n)||/go4android/.test(n)?(e.isMeiliIncApp=!0,e.channel="GO"):o&&(e.channel=o),e.addChannelParam=function(n){$.extend(n,{channel:e.channel})},e}),define("core/error",["core/core","core/ua"],function(e){return $.extend(e,{error:function(n){if(console&&console.log(n),e.ua["native"]&&window.MOGU_DEV){var t=$("#notice_error");t.length||(t=$('<div id="notice_error"></div>').prependTo($("body"))),t.prepend("<p>"+n+"</p>")}}}),e}),define("fnExtend",["core/core"],function(e){var n=function(e){var n=typeof e;return"function"===n||"object"===n&&!!e},t=function(e,n){return void 0===n?e:function(){return e.apply(n,arguments)}},o=function(e,n,o){return null==e?e||null:$.isFunction(e)?t(e,n,o):function(n){return n[e]}};return{parseJson:JSON.parse,escapeHtml:function(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},formatPrice:function(e){return null==e?"-":(e/100).toFixed(2)},formatDate:function(e,n){var t,o,r=this,i=["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December"],a=/\\?(.?)/gi,u=function(e,n){return o[e]?o[e]():n},c=function(e,n){for(e=String(e);e.length<n;)e="0"+e;return e};return o={d:function(){return c(o.j(),2)},D:function(){return o.l().slice(0,3)},j:function(){return t.getDate()},l:function(){return i[o.w()]+"day"},N:function(){return o.w()||7},S:function(){var e=o.j(),n=e%10;return n<=3&&1==parseInt(e%100/10,10)&&(n=0),["st","nd","rd"][n-1]||"th"},w:function(){return t.getDay()},z:function(){var e=new Date(o.Y(),o.n()-1,o.j()),n=new Date(o.Y(),0,1);return Math.round((e-n)/864e5)},W:function(){var e=new Date(o.Y(),o.n()-1,o.j()-o.N()+3),n=new Date(e.getFullYear(),0,4);return c(1+Math.round((e-n)/864e5/7),2)},F:function(){return i[6+o.n()]},m:function(){return c(o.n(),2)},M:function(){return o.F().slice(0,3)},n:function(){return t.getMonth()+1},t:function(){return new Date(o.Y(),o.n(),0).getDate()},L:function(){var e=o.Y();return e%4===0&e%100!==0|e%400===0},o:function(){var e=o.n(),n=o.W(),t=o.Y();return t+(12===e&&n<9?1:1===e&&n>9?-1:0)},Y:function(){return t.getFullYear()},y:function(){return o.Y().toString().slice(-2)},a:function(){return t.getHours()>11?"pm":"am"},A:function(){return o.a().toUpperCase()},B:function(){var e=3600*t.getUTCHours(),n=60*t.getUTCMinutes(),o=t.getUTCSeconds();return c(Math.floor((e+n+o+3600)/86.4)%1e3,3)},g:function(){return o.G()%12||12},G:function(){return t.getHours()},h:function(){return c(o.g(),2)},H:function(){return c(o.G(),2)},i:function(){return c(t.getMinutes(),2)},s:function(){return c(t.getSeconds(),2)},u:function(){return c(1e3*t.getMilliseconds(),6)},e:function(){throw"Not supported (see source code of date() for timezone on how to add support)"},I:function(){var e=new Date(o.Y(),0),n=Date.UTC(o.Y(),0),t=new Date(o.Y(),6),r=Date.UTC(o.Y(),6);return e-n!==t-r?1:0},O:function(){var e=t.getTimezoneOffset(),n=Math.abs(e);return(e>0?"-":"+")+c(100*Math.floor(n/60)+n%60,4)},P:function(){var e=o.O();return e.substr(0,3)+":"+e.substr(3,2)},T:function(){return"UTC"},Z:function(){return 60*-t.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(a,u)},r:function(){return"D, d M Y H:i:s O".replace(a,u)},U:function(){return t/1e3|0}},this.date=function(e,n){return r=this,t=void 0===n?new Date:n instanceof Date?new Date(n):new Date(1e3*n),e.replace(a,u)},this.date(e,n)},has:function(e,n){return null!=e&&e.hasOwnProperty(n)},keys:function(e){var t=Object.keys;if(!n(e))return[];if(t)return t(e);var o=[];for(var r in e)e.hasOwnProperty(r)&&o.push(r);return o},values:function(e){var n=this.keys(e);return n.map(function(n){return e[n]})},map:function(e,n,t){if(null==e)return[];n=o(n,t);var r,i,a=e.length;a!==+a&&(i=this.keys(e),a=i.length);for(var u=new Array(a),c=0;c<a;c++)r=i?i[c]:c,u[c]=n(e[r],r,e);return u},now:function(){return+Date.now()||+new Date},throttle:function(e,n,t){var o,r,i,a=this,u=null,c=0;t||(t={});var s=function(){c=t.leading===!1?0:a.now(),u=null,i=e.apply(o,r),u||(o=r=null)};return function(){var f=a.now();c||t.leading!==!1||(c=f);var l=n-(f-c);return o=this,r=arguments,l<=0||l>n?(clearTimeout(u),u=null,c=f,i=e.apply(o,r),u||(o=r=null)):u||t.trailing===!1||(u=setTimeout(s,l)),i}},debounce:function(e,n,t){var o,r,i,a,u,c=this,s=function(){var f=c.now()-a;f<n&&f>0?o=setTimeout(s,n-f):(o=null,t||(u=e.apply(i,r),o||(i=r=null)))};return function(){i=this,r=arguments,a=c.now();var f=t&&!o;return o||(o=setTimeout(s,n)),f&&(u=e.apply(i,r),i=r=null),u}},login:function(n){if(n=n||location.href,e.ua["native"]&&"object"==typeof mgj)location.href=logger&&logger.generatePtpParams("mgj://login")||"mgj://login";else{var t="https://h5.mogujie.com/user-process/login.html?redirect_url="+encodeURIComponent(n);location.href=logger&&logger.generatePtpParams(t)||t}},parseUrl:function(e){return{}},toFixed:function(e,n){var t,o=0;n=n||2;var r=Math.pow(10,n||0);t=String(Math.round(e*r)/r);var i=t.split(".")[1];i?o=i.length:n!=o&&(t+=".");for(var a=0;a<n-o;a++)t+="0";return t},formatTime:function(e,n){var t=new Date(parseInt(1e3*e));n=n||"YY-MM-DD";var o=t.getFullYear(),r=parseInt(t.getMonth()),i=parseInt(t.getDate()),a=o,u=r>8?r+1:"0"+(r+1),c=i>9?i:"0"+i;return n.replace(/YY/i,a).replace(/MM/i,u).replace(/DD/i,c)}}}),define("fn/fn",["core/core","fnExtend"],function(e,n){return e.fn={set:function(n,t){e._global[n]&&e.error(n+"\u5305\u5c06\u88ab\u66ff\u6362"),e._global[n]=t},get:function(n){return e._global[n]||!1},getQueryString:function(e,n){n=n||location.href,n=n.split("#")[0];var t=new RegExp("(^|\\?|&)"+e+"=([^&]*)(\\s|&|$)","i");return t.test(n)?RegExp.$2.replace(/\+/g," "):""},setCookie:function(e,n,t){t=t||{},null===n&&(n="",t.expires=-1);var o="";if(t.expires&&("number"==typeof t.expires||t.expires.toUTCString)){var r;"number"==typeof t.expires?(r=new Date,r.setTime(r.getTime()+864e5*t.expires)):r=t.expires,o="; expires="+r.toUTCString()}var i=t.path?"; path="+t.path:"",a=t.secure?"; secure":"",u="";t.domain?u="; domain="+t.domain:(u=document.domain.toString().split("."),u="; domain=."+u[1]+"."+u[2]),document.cookie=[e,"=",encodeURIComponent(n),o,i,u,a].join("")},getCookie:function(e){var n=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return null!==n?decodeURIComponent(n[2]):""},removeCookie:function(n){e.util.setCookie(n,null,{expires:-1})},idtourl:function(e){if(e)return 1+(2*e+56).toString(36)},urltoid:function(e){return(parseInt(e.substring(1),36)-56)/2},walkThrough:function(e,n){n=n||window;var t=(e||"").split("."),o=!!t.length;return $(t).each(function(e,t){return o=o&&null!==n[t]&&void 0!==n[t],o===!1?o:void(n=n[t])}),o},cAjax:function(e){return $.ajax(e)}},$.extend(e.fn,n),e}),define("uiExtend",[],function(){function e(){t.css("display","block")}function n(){t.css("display","none")}var t=$("#M_Loading");return{showMask:function(e){e=e||$("#M_Mask"),e.show()},hideMask:function(e){e=e||$("#M_Mask"),e.hide()},showLoading:function(){MoGu.ua["native"]?"undefined"!=typeof mgj&&mgj.progress?(MoGu.ui.showLoading=mgj.progress.show,n(),mgj.progress.show()):e():(e(),MoGu.ui.showLoading=e)},hideLoading:function(){n(),MoGu.ua["native"]?"undefined"!=typeof mgj&&mgj.progress&&(MoGu.ui.hideLoading=mgj.progress.hide,mgj.progress.hide()):MoGu.ui.hideLoading=n},initRem:function(e){e=+e||100;var n=window.document.documentElement,t=Math.min(n.clientWidth,750);n.style.fontSize=t/(750/e)+"px"}}}),define("lib/doT",[],function(){function e(){var e={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},n=/&(?!#?\w+;)|<|>|"|'|\//g;return function(){return this?this.replace(n,function(n){return e[n]||n}):this}}function n(e,t,o){return("string"==typeof t?t:t.toString()).replace(e.define||i,function(n,t,r,i){return 0===t.indexOf("def.")&&(t=t.substring(4)),t in o||(":"===r?(e.defineParams&&i.replace(e.defineParams,function(e,n,r){o[t]={arg:n,text:r}}),t in o||(o[t]=i)):new Function("def","def['"+t+"']="+i)(o)),""}).replace(e.use||i,function(t,r){e.useParams&&(r=r.replace(e.useParams,function(e,n,t,r){if(o[t]&&o[t].arg&&r){var i=(t+":"+r).replace(/'|\\/g,"_");return o.__exp=o.__exp||{},o.__exp[i]=o[t].text.replace(new RegExp("(^|[^\\w$])"+o[t].arg+"([^\\w$])","g"),"$1"+r+"$2"),n+"def.__exp['"+i+"']"}}));var i=new Function("def","return "+r)(o);return i?n(e,i,o):i})}function t(e){return e.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}var o={version:"1.0.1",templateSettings:{evaluate:/\{\{([\s\S]+?(\}?)+)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,defineParams:/^\s*([\w$]+):([\s\S]+)/,conditional:/\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,iterate:/\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g,varname:"it",strip:!0,append:!0,selfcontained:!1},template:void 0,compile:void 0};String.prototype.encodeHTML=e();var r={append:{start:"'+(",end:")+'",endencode:"||'').toString().encodeHTML()+'"},split:{start:"';out+=(",end:");out+='",endencode:"||'').toString().encodeHTML();out+='"}},i=/$^/;return o.template=function(a,u,c){u=u||o.templateSettings;var s,f,l=u.append?r.append:r.split,d=0,p=u.use||u.define?n(u,a,c||{}):a;p=("var out='"+(u.strip?p.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):p).replace(/'|\\/g,"\\$&").replace(u.interpolate||i,function(e,n){return l.start+t(n)+l.end}).replace(u.encode||i,function(e,n){return s=!0,l.start+t(n)+l.endencode}).replace(u.conditional||i,function(e,n,o){return n?o?"';}else if("+t(o)+"){out+='":"';}else{out+='":o?"';if("+t(o)+"){out+='":"';}out+='"}).replace(u.iterate||i,function(e,n,o,r){return n?(d+=1,f=r||"i"+d,n=t(n),"';var arr"+d+"="+n+";if(arr"+d+"){var "+o+","+f+"=-1,l"+d+"=arr"+d+".length-1;while("+f+"<l"+d+"){"+o+"=arr"+d+"["+f+"+=1];out+='"):"';} } out+='"}).replace(u.evaluate||i,function(e,n){return"';"+t(n)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,"").replace(/(\s|;|\}|^|\{)out\+=''\+/g,"$1out+="),s&&u.selfcontained&&(p="String.prototype.encodeHTML=("+e.toString()+"());"+p);try{return new Function(u.varname,p)}catch(e){throw"undefined"!=typeof console&&console.log("Could not create a template function: "+p),e}},o.compile=function(e,n){return o.template(e,null,n)},o}),define("ui/ui",["uiExtend","lib/doT"],function(e,n){return MoGu.ui={jsMbSubstr:function(e,n,t){if(!e)return"";var o=/[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329\u232A\u2E80-\u303E\u3040-\u4DBF\u4E00-\uA4CF\uA960-\uA97F\uAC00-\uD7FF\uF900-\uFAFF\uFE10-\uFE1F\uFE30-\uFE6F\uFF01-\uFF60\uFFE0-\uFFE7]/,r=0;for(n=2*n;n>0;){var i=o.test(e.charAt(r))?2:1;n-=i,r++}return r+=n,e.substring(0,r)+(t||"")},getPicExtension:function(e){var n=e.match(/.+\.(.+)$/);return n?n[1]:""},getTemplate:function(e,t){try{return n.template(e)(t)}catch(e){return e}},getdoT:function(){return n}},$.extend(MoGu.ui,e),MoGu}),define("ui/tips",["fn/fn"],function(e){"use strict";var n={duration:1500},t=function(e){var t=$.extend({},n,e);this.duration=t.duration,this.init()};t.prototype={init:function(){this.elem=$("#M_Tips"),this.elem.get(0)||(this.elem=$("<div id='M_Tips' class='ui-tips' style='display:none;'><span class='ui-tips-text'></span></div>"),this.elem.appendTo("body")),this.text=this.elem.find(".ui-tips-text")},show:function(e,n,t){var o=this;o.elem.show(),e&&"string"==typeof e&&o.text.html(e).removeClass("fadeOut").addClass("fadeIn"),isNaN(n)&&!$.isFunction(t)&&t!==!1&&(t=n,n=o.duration),0!=n&&o.hide(n,t)},hide:function(e,n){var t=this,o=null;o=setTimeout(function(){t.text.removeClass("fadeIn").addClass("fadeOut"),setTimeout(function(){t.elem.hide(),n&&n()},500)},e||t.duration)}},e.fn.set("tip",t);var o=new t;return $.extend(e.fn,{tips:o}),o}),define("core/cube/app",["core/ua","fn/fn"],function(e){function n(n,t){e.ua["native"]&&(t=t||$("body"),t.off("click",n,i).on("click",n,i))}function t(){if(!e.ua["native"])return-1;var n=new RegExp("(^|[?]|&)_av=([0-9]{3})","i"),t=window.location.search.match(n);if(t&&t[2]>400)return parseInt(t[2]);var o=window.navigator.userAgent,r="",i="";return $.os.iphone&&(r=new RegExp("(mogujie4iphone).*/([0-9]{3})","i"),i=o.match(r),i&&i[2]>400)?parseInt(i[2]):$.os.android&&(r=new RegExp("(mogujie4android).*/([0-9]{3})","i"),i=o.match(r),i&&i[2]>400)?parseInt(i[2]):void 0}function o(e){document.addEventListener("deviceready",function(){return window.mgj&&mgj.device&&mgj.device.getInfo?void mgj.device.getInfo(function(n){"string"==typeof n&&(n=JSON.parse(n)),e(+n.appVersion)},function(){e(-1)}):void e(-1)})}function r(n){return e.ua["native"]&&e.ua["native"]&&hdp?void hdp["do"]("mgj.device.signParams",{}).then(function(e){return"string"==typeof e&&(e=JSON.parse(e)),n&&"string"==typeof n?e[n]:e._did})["catch"](function(e){return e||-1}):-1}var i=function(){if(e.ua["native"]){var n=$(this),t=n.attr("href");if(t.indexOf("mgj://")>=0||t.indexOf("javascript")>=0)return;if(t=logger&&logger.generatePtpParams(t)||t,window.hdp)return window.hdp["do"]("mgj.navigation.pushWindow",t),!1;if(window.mgj)return window.location.href="mgj://web?url="+encodeURIComponent(t),!1}};return $(document).on("click","[push-window]",i),$.extend(e.fn,{openLinkView:n,getAppVersion:t,getAppVersionAsync:o,platform:e.ua.phone?e.ua["native"]?"app":"wap":"pc",getDeviceId:r}),e}),define("core/cube/lazyload",["core/core"],function(){}),define("fn/time",["fn/fn"],function(){MoGu.fn=$.extend({},MoGu.fn,{getServerTime:function(e){return M.getServerTime(!1).then(function(n){e(n.time)})}})}),define("fn/modacm",["fn/fn","core/ua","core/cube/app"],function(){MoGu.fn=$.extend({},MoGu.fn,{getModAcm:function(e){if(!e)return"";var n=$(e),t=n.parents(),o="module_row",r=null;return $(t).each(function(e,n){$(n).hasClass(o)&&(r=$(n))}),r?$(r).attr("data-acm"):""}})}),define("fn/showlog",["fn/fn","core/ua","core/cube/app"],function(){function e(e){return"none"!=e.css("display")&&"hidden"!=e.css("visibility")&&0!=e.css("opacity")&&e.width()&&e.height()}function n(n){var t=n.offset().top,o=n.height(),r=n.offset().left,i=n.offset().width,a=$(window).scrollTop(),u=$(window).scrollLeft(),c=$(window).width(),s=$(window).height(),f=t>=a&&t<a+s,l=t+o>a&&t+o<=a+s,d=t<a&&t+o>a+s,p=r>=u&&r<u+c,g=r+i>u&&r+i<=u+c,m=r<u&&r+i>u+c;return e(n)&&(f||l||d)&&(p||g||m)}function t(){if(w.length||j.length||C.length||b.length||M||F.length){var e=function(e){if(o||(o=e),j&&j.length){var n=j.splice(0,m),t=v.splice(0,m);S("0x00000000",{acms:n,indexs:t,type:5,ver:o||""})}else if(C&&C.length){var n=C.splice(0,m),t=y.splice(0,m);S("0x00000000",{acms:n,indexs:t,type:5,ver:o||""})}else if(b&&b.length){var n=b.splice(0,m),t=x.splice(0,m),r=A.splice(0,m);S("0x00000000",{acms:n,indexs:t,type:4,iids:r,ver:o||""})}else if(M)M.ver=o||"",S(h||70500,M),M=null,h=null;else if(w&&w.length){var n=w.splice(0,m),t=T.splice(0,m),r=A.splice(0,m);S(h||70500,{acms:n,iids:r,indexs:t,ver:o||""}),h=null}else if(F&&F.length){var i=F.shift();S("0x00000000",$.extend({acms:i.params.acms,indexs:i.params.indexs,iids:i.params.iids,ver:o||""},i.params.customParams))}};!o&&MoGu.ua["native"]&&MoGu&&MoGu.fn&&MoGu.fn.getAppVersionAsync?MoGu.fn.getAppVersionAsync(e):e(o)}r=!0,window.setTimeout(function(){w.length||j.length||C.length||b.length||M||F.length?t():r=!1},1e3)}var o="",r=!1,i="module_row",a="cube-acm-node",u="has-log-mod",c="rec-show-log",s="show-log-item",f="waiting-log",l="log-custom",d="data-log-content",p="data-log-iid",g="preserve-log",m=($("."+c),50),h=null,w=[],v=[],y=[],x=[],M=null,j=[],C=[],b=[],F=[],A=[],T=[],S=function(e,n){var t=window&&window.logger&&window.logger.log;t&&t(e,n)},D=function(e){var n=e.attr(d),t=n.split(";");$(t).each(function(e,n){var t=n.split("="),o=t[0];o&&(M=M||{},M[o]=M[o]||[],M[o].push(n.replace(o+"=","")))})},E=function(){$("."+i).each(function(e,t){var o=$(t),r=o.attr("data-acm")||"",i=r.split(".");if(r&&n(o)){var c=o.find("."+a+",.anchor,."+s),f=c.length,d=null,g=o.find(".param-dom");$(g).each(function(e,n){var t=$(n).data("param-key"),o=$(n).data("param-value");if(t){var i={};i[t]=o,d=d||{},d.key=r,d.params=$.extend(d.params||{},i)}}),o.hasClass(u)||(j.push(r+"-mfs_"+f),v.push(e),o.addClass(u));var m=[],h=[],w=[];if(f&&$(c).each(function(e,t){var o=$(t),a=!o.hasClass(l)&&o.attr("data-log-content")||"",c=o.attr(p)||"";!o.hasClass(u)&&n(o)&&(a&&i[6]?((d?m:b).push(a+"-"+i[6]+"-idx_"+e+"-mfs_"+f),(d?w:x).push(e),c&&(d?h:A).push(c),o.addClass(u)):((d?m:C).push(r+"-idx_"+e+"-mfs_"+f),(d?w:y).push(e),o.addClass(u)))}),d&&m&&m.length){var M=-1;$(F).each(function(e,n){n.key===d.key&&(M=e)}),M===-1&&(F.push({key:d.key}),M=F.length-1),F[M].params=F[M].params?{customParams:d.params,acms:F[M].params.acms.concat(m),iids:F[M].params.iids.concat(h),indexs:F[M].params.indexs.concat(w)}:{customParams:d.params,acms:m,iids:h,indexs:w}}}}),$("."+c).each(function(e,t){var o=$(t);if(n(o)||o.hasClass(f)){o.removeClass(f);var r=o.attr(g),i=o.find("."+l);i.length?$(i).each(function(e,t){var r=$(t);if(n(r)||r.hasClass(f)){if(r.removeClass(f),h&&h!==o.data("eventid"))return o.addClass(f),void r.addClass(f);r.hasClass(l)&&D(r),h=o.data("eventid"),r.removeClass(l)}}):r||o.removeClass(c)}}),(w.length||j.length||C.length||b.length||M||F.length)&&!r&&t()},k=function(){$(function(){window.setTimeout(function(){$(window).scroll(E),E&&E()},1e3)})};k(),MoGu.fn=$.extend({},MoGu.fn,{showLog:E})}),define("base/MoGu",["core/core","core/const","core/polyfill","core/error","core/ua","fn/fn","fn/time","fn/modacm","fn/showlog","ui/ui","ui/tips","core/cube/lazyload","core/cube/app"],function(e){return e}),define("jQuery",function(){return $}),require(["base/MoGu"],function(e){return e});!function(t){t.MWP=function(){"use strict";function t(t,e){void 0===e&&(e=!0);var n=t.split(_),r=e?decodeURIComponent:O;return n.reduce(function(t,e){e=e.replace(T,"%20");var n,o,i=e.indexOf("=");return 0>i?(n=e,o=""):(n=e.slice(0,i),o=e.slice(i+1)),n=r(n),o=r(o),E.call(t,n)?Array.isArray(t[n])?t[n].push(o):t[n]=[t[n],o]:t[n]=o,t},{})}function e(t,e){if(void 0===e&&(e=!0),!t)return"";var n=e?encodeURIComponent:O;return Object.keys(t).map(function(e){var r=t[e];return e=n(e),Array.isArray(r)?r.map(function(t,r){return e+"["+r+"]="+n(t)}).join("&"):e+"="+n(r)}).join("&")}function n(t){return"undefined"!=typeof FormData&&t instanceof FormData}function r(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}function o(t,e,n){function o(){i.parentNode&&i.parentNode.removeChild(i);try{delete window[s]}catch(t){window[s]=void 0}}var i,s=e.jsonpCallback||"httpCb"+c();window[s]=function(t){o(),n(null,t),n=null},t=u(t,Object.assign({},e.data,{callback:s,_:Date.now()})),i=document.createElement("script"),i.src=t,i.type="text/javascript",i.async=!0;var a=function(t){(t&&"error"===t.type||null!==n)&&(o(),n(new Error(M)))};k&&"onreadystatechange"in i?i.onreadystatechange=function(){"complete"===i.readyState&&(i.onreadystatechange=null,r(i),a({type:"load "}));var t=i.readyState;try{i.children}catch(e){}"loaded"===t&&"loading"===i.readyState&&(i.onreadystatechange=null,a({type:"error"}))}:(i.onload=i.onerror=a,r(i))}function i(t,r,o){var i=r.data,s=new XMLHttpRequest;"GET"===r.method&&(t=u(t,i),i=null),s.open(r.method,t),s.withCredentials="omit"!==r.credentials,s.onreadystatechange=function(){if(s.readyState===XMLHttpRequest.DONE)if(s.onreadystatechange=function(){},200===s.status)try{var t;t="json"===r.dataType?""===s.responseText?null:JSON.parse(s.responseText):s.responseText,o(null,t)}catch(e){o(e)}else o(new Error(M))};try{var a=r.headers;n(i)&&delete a["content-type"],Object.keys(a).forEach(function(t){s.setRequestHeader(t,a[t])}),i?n(i)?s.send(i):a["content-type"].indexOf(R.json)>=0?s.send(JSON.stringify(i)):s.send(e(i)):s.send(null)}catch(c){o(c)}}function s(t,r,o){var i=r.data,s={method:r.method,headers:r.headers,credentials:r.credentials};"GET"===r.method?t=u(t,i):i&&(n(i)?(s.body=i,delete s.headers["content-type"]):r.headers["content-type"].indexOf(R.json)>=0?s.body=JSON.stringify(i):s.body=e(i)),a(t)||(s.mode="cors"),j(t,s).then(function(t){switch(r.dataType){case"json":return t.json();case"text":default:return t.text()}}).then(function(t){o(null,t)})["catch"](function(){o(new Error(M))})}function a(t){try{var e=document.createElement("a");return e.href=t,e.href=e.href,e.protocol===x.protocol&&e.hostname===x.hostname&&e.port===x.port}catch(n){return!0}}function u(n,r){if(r){var o=n.split("?"),i=o[0],s=o[1];s&&(r=Object.assign(t(s),r));var a=e(r);a&&(n=i+"?"+a)}return n}function c(){return String(Date.now())+String((90*Math.random()|0)+10)}function p(t,e,n){n=n||{},null===e&&(e="",n.expires=-1);var r="";if(n.expires&&("number"==typeof n.expires||n.expires.toUTCString)){var o;"number"==typeof n.expires?(o=new Date,o.setTime(o.getTime()+864e5*n.expires)):o=n.expires,r="; expires="+o.toUTCString()}var i=n.path?"; path="+n.path:"",s=n.secure?"; secure":"",a="";n.domain?a="; domain="+n.domain:(a=document.domain.toString().split("."),a="; domain=."+a[1]+"."+a[2]),document.cookie=[t,"=",encodeURIComponent(e),r,i,a,s].join("")}function h(t){var e=document.cookie.match(new RegExp("(^| )"+t+"=([^;]*)(;|$)"));return null!==e?decodeURIComponent(e[2]):""}function f(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function d(){return++window._mwpJsonpID||(window._mwpJsonpID=1)}function l(t){if(t.ret===N.Success)return t.data;throw Object.assign(Object.create(new Error(t.msg||C)),{code:t.ret,payload:t})}function m(){if(window.M_ENV)switch(window.M_ENV){case"test":return A.Develop;case"develop":case"pre":return A.PreRelease}}function y(t){if(!t)return Promise.resolve(!1);var e=window.hdp;try{if(e&&e.isApp())return e.getObj("mgj").then(function(t){return t.mwpEnable},function(){return Promise.resolve(!1)});var n=navigator.userAgent.toLowerCase();return t.test(n)?window.mgj?Promise.resolve(window.mgj.mwpEnable===!0):new Promise(function(t){document.addEventListener("deviceready",function(){try{t(window.mgj.mwpEnable===!0)}catch(e){t(!1)}},!1)}):Promise.resolve(!1)}catch(r){return Promise.resolve(!1)}}function g(t){return t&&"function"==typeof t.then}function v(t,e){return e={exports:{}},t(e,e.exports),e.exports}function w(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function b(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&w(t.slice(0,0))}function S(t){return t?"string"==typeof t?t:JSON.stringify(t):""}var P,_=/&/,T=/\+/g,E=Object.prototype.hasOwnProperty,O=function(t){return t},j=window.fetch,x=window.location,R={text:"text/plain",form:"application/x-www-form-urlencoded",json:"application/json"},k=window.navigator.userAgent.indexOf("MSIE 8.0")>=0,M="\u7f51\u7edc\u9519\u8bef\uff0c\u8bf7\u7a0d\u5019\u518d\u8bd5",C="\u670d\u52a1\u5668\u5f00\u5c0f\u5dee\u4e86\uff0c\u8bf7\u7a0d\u5019\u518d\u8bd5";!function(t){t.MGJ="mgj",t.MLS="mls",t.XD="xd"}(P||(P={}));var D,A={Develop:"DEVELOP",PreRelease:"PRE_RELEASE",Release:"RELEASE"},N={Success:"SUCCESS",NeedHttps:"FAIL_SYS_NEED_HTTPS",TokenNeedRenew:"FAIL_SYS_TOKEN_NEED_RENEW",SessionInvalid:"FAIL_BIZ_SESSION_INVALID"},H=function(){try{var t=location.hostname;if(/(mogujie\.org|meili-inc\.com)$/.test(t))return"nsh5"}catch(e){}return"h5"}(),I=(D={},D[P.MGJ]={Develop:"devapi.mogujie.com",PreRelease:"newpreapi.mogujie.com",Release:"api.mogujie.com"},D[P.MLS]={Develop:"devapi.meilishuo.com",PreRelease:"preapi.meilishuo.com",Release:"api.meilishuo.com"},D[P.XD]={Develop:"devapi.xiaodian.com",PreRelease:"preapi.xiaodian.com",Release:"api.xiaodian.com"},D),L="_mwp_h5_token",W=function(){function t(){this.data={}}return t.prototype.add=function(t,e,n){return void 0===n&&(n=null),this.data[t+"."+e]=n,this},t.prototype.toObject=function(){return this.data},t}(),B=function(){function t(t){this.callbacks={},this.Request=t}return t.prototype.addParameter=function(t,e,n){return this.parameter||(this.parameter=new W),this.parameter.add(t,e,n),this},t.prototype.request=function(t,e,n,r){var o,i=this;return n instanceof W?o=n.toObject():(o=this.parameter?this.parameter.toObject():null,r||(r=n||{})),this.promise=this.Request.request(t,e,o,r).then(function(t){return i.result=t,i.Request.filterResult(t)}).then(function(t){var e=Object.keys(t).filter(function(t){return t in i.callbacks}).map(function(e){return i.callbacks[e](t[e])}).filter(g);return e.length>0?i.Request.Promise.all(e).then(function(){return i.result}):i.result}),this},t.prototype.on=function(t,e){return this.callbacks[t]||(this.callbacks[t]=e),this},t.prototype.then=function(t,e){return this.promise=this.promise.then(t,e),this},t.prototype["catch"]=function(t){return this.promise=this.promise["catch"](t),this},t.Parameter=W,t}(),J=v(function(t){!function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&n.rotl(t,8)|4278255360&n.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=n.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,r=0;n<t.length;n++,r+=8)e[r>>>5]|=t[n]<<24-r%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var n=[],r=0;r<t.length;r+=3)for(var o=t[r]<<16|t[r+1]<<8|t[r+2],i=0;4>i;i++)8*r+6*i<=8*t.length?n.push(e.charAt(o>>>6*(3-i)&63)):n.push("=");return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,o=0;r<t.length;o=++r%4)0!=o&&n.push((e.indexOf(t.charAt(r-1))&Math.pow(2,-2*o+8)-1)<<2*o|e.indexOf(t.charAt(r))>>>6-2*o);return n}};t.exports=n}()}),q={utf8:{stringToBytes:function(t){return q.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(q.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}},G=q,U=function(t){return null!=t&&(w(t)||b(t)||!!t._isBuffer)},X=v(function(t){!function(){var e=J,n=G.utf8,r=U,o=G.bin,i=function(t,s){t.constructor==String?t=s&&"binary"===s.encoding?o.stringToBytes(t):n.stringToBytes(t):r(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||(t=t.toString());for(var a=e.bytesToWords(t),u=8*t.length,c=1732584193,p=-271733879,h=-1732584194,f=271733878,d=0;d<a.length;d++)a[d]=16711935&(a[d]<<8|a[d]>>>24)|4278255360&(a[d]<<24|a[d]>>>8);a[u>>>5]|=128<<u%32,a[(u+64>>>9<<4)+14]=u;for(var l=i._ff,m=i._gg,y=i._hh,g=i._ii,d=0;d<a.length;d+=16){var v=c,w=p,b=h,S=f;c=l(c,p,h,f,a[d+0],7,-680876936),f=l(f,c,p,h,a[d+1],12,-389564586),h=l(h,f,c,p,a[d+2],17,606105819),p=l(p,h,f,c,a[d+3],22,-1044525330),c=l(c,p,h,f,a[d+4],7,-176418897),f=l(f,c,p,h,a[d+5],12,1200080426),h=l(h,f,c,p,a[d+6],17,-1473231341),p=l(p,h,f,c,a[d+7],22,-45705983),c=l(c,p,h,f,a[d+8],7,1770035416),f=l(f,c,p,h,a[d+9],12,-1958414417),h=l(h,f,c,p,a[d+10],17,-42063),p=l(p,h,f,c,a[d+11],22,-1990404162),c=l(c,p,h,f,a[d+12],7,1804603682),f=l(f,c,p,h,a[d+13],12,-40341101),h=l(h,f,c,p,a[d+14],17,-1502002290),p=l(p,h,f,c,a[d+15],22,1236535329),c=m(c,p,h,f,a[d+1],5,-165796510),f=m(f,c,p,h,a[d+6],9,-1069501632),h=m(h,f,c,p,a[d+11],14,643717713),p=m(p,h,f,c,a[d+0],20,-373897302),c=m(c,p,h,f,a[d+5],5,-701558691),f=m(f,c,p,h,a[d+10],9,38016083),h=m(h,f,c,p,a[d+15],14,-660478335),p=m(p,h,f,c,a[d+4],20,-405537848),c=m(c,p,h,f,a[d+9],5,568446438),f=m(f,c,p,h,a[d+14],9,-1019803690),h=m(h,f,c,p,a[d+3],14,-187363961),p=m(p,h,f,c,a[d+8],20,1163531501),c=m(c,p,h,f,a[d+13],5,-1444681467),f=m(f,c,p,h,a[d+2],9,-51403784),h=m(h,f,c,p,a[d+7],14,1735328473),p=m(p,h,f,c,a[d+12],20,-1926607734),c=y(c,p,h,f,a[d+5],4,-378558),f=y(f,c,p,h,a[d+8],11,-2022574463),h=y(h,f,c,p,a[d+11],16,1839030562),p=y(p,h,f,c,a[d+14],23,-35309556),c=y(c,p,h,f,a[d+1],4,-1530992060),f=y(f,c,p,h,a[d+4],11,1272893353),h=y(h,f,c,p,a[d+7],16,-155497632),p=y(p,h,f,c,a[d+10],23,-1094730640),c=y(c,p,h,f,a[d+13],4,681279174),f=y(f,c,p,h,a[d+0],11,-358537222),h=y(h,f,c,p,a[d+3],16,-722521979),p=y(p,h,f,c,a[d+6],23,76029189),c=y(c,p,h,f,a[d+9],4,-640364487),f=y(f,c,p,h,a[d+12],11,-421815835),h=y(h,f,c,p,a[d+15],16,530742520),p=y(p,h,f,c,a[d+2],23,-995338651),c=g(c,p,h,f,a[d+0],6,-198630844),f=g(f,c,p,h,a[d+7],10,1126891415),h=g(h,f,c,p,a[d+14],15,-1416354905),p=g(p,h,f,c,a[d+5],21,-57434055),c=g(c,p,h,f,a[d+12],6,1700485571),f=g(f,c,p,h,a[d+3],10,-1894986606),h=g(h,f,c,p,a[d+10],15,-1051523),p=g(p,h,f,c,a[d+1],21,-2054922799),c=g(c,p,h,f,a[d+8],6,1873313359),f=g(f,c,p,h,a[d+15],10,-30611744),h=g(h,f,c,p,a[d+6],15,-1560198380),p=g(p,h,f,c,a[d+13],21,1309151649),c=g(c,p,h,f,a[d+4],6,-145523070),f=g(f,c,p,h,a[d+11],10,-1120210379),h=g(h,f,c,p,a[d+2],15,718787259),p=g(p,h,f,c,a[d+9],21,-343485551),c=c+v>>>0,p=p+w>>>0,h=h+b>>>0,f=f+S>>>0}return e.endian([c,p,h,f])};i._ff=function(t,e,n,r,o,i,s){var a=t+(e&n|~e&r)+(o>>>0)+s;return(a<<i|a>>>32-i)+e},i._gg=function(t,e,n,r,o,i,s){var a=t+(e&r|n&~r)+(o>>>0)+s;return(a<<i|a>>>32-i)+e},i._hh=function(t,e,n,r,o,i,s){var a=t+(e^n^r)+(o>>>0)+s;return(a<<i|a>>>32-i)+e},i._ii=function(t,e,n,r,o,i,s){var a=t+(n^(e|~r))+(o>>>0)+s;return(a<<i|a>>>32-i)+e},i._blocksize=16,i._digestsize=16,t.exports=function(t,n){if(void 0===t||null===t)throw new Error("Illegal argument "+t);var r=e.wordsToBytes(i(t,n));return n&&n.asBytes?r:n&&n.asString?o.bytesToString(r):e.bytesToHex(r)}}()}),K="mw-ttid",F="mw-t",V="data",Y="mw-appkey",Q="mw-sign",$="mw-did",z="mw-uid",Z="mw-cmd-v",tt=["mw-pv","mw-sid","mw-did"];"function"!=typeof Date.now&&(Date.now=function(){return(new Date).getTime()});var et=function(){function t(){this._params={},this._omitted={}}return t.prototype.add=function(t,e){return tt.indexOf(t)>=0?(this._omitted[t]=e,this):((e||"data"===t)&&(this._params[t]=e),this)},t.prototype.sign=function(t,e,n,r){var o=this._params,i=Object.keys(o);return i.sort(),X(i.map(function(t){return o[t]}).concat([t,e,X(n),r]).join("&"))},t.prototype.getSignedParams=function(t){var e=this,n=t.constructor;this.add(Y,n.AppKey).add(F,String(Date.now())).add(K,n.TTID);var r=t.getMWPCookieHeader();Object.keys(r).forEach(function(t){t.startsWith("mw-cookie-")&&e.add(t,r[t])});var o=S(t.data);return this.add(Q,this.sign(t.api,t.version,o,t.getToken())).add(V,o),Object.assign({},this._omitted,this._params)},t.getSignedParams=function(e){return(new t).getSignedParams(e)},t}();!function(t){t.Key={KEY_DEVICE_ID:$,KEY_UID:z,KEY_CMD_V:Z}}(et||(et={}));var nt,rt=et,ot=function(){function t(t){var e=this;this.callback=t,this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return t.prototype.exec=function(){return this.callback().then(this.resolve,this.reject)},t.prototype.then=function(t,e){return this.promise=this.promise.then(t,e)},t.prototype["catch"]=function(t){return this.promise=this.promise["catch"](t)},t}(),it=function(){function t(){this.tasks=[]}return t.createQueue=function(){var t=new this;return this.instances.push(t),t},t.getQueue=function(){return this.instances[0]},t.prototype.add=function(t){try{var e=new ot(t);return this.tasks.push(e),e}catch(n){return null}},t.prototype.exec=function(){var e=this;t.instances=t.instances.filter(function(t){return e!==t});var n=function(){return e.tasks=null};return Promise.all(this.tasks.map(function(t){return t.exec()})).then(n,n)},t.instances=[],t}(),st=function(){function t(t,e,n){void 0===n&&(n={}),this.retries=1,this.api=t,this.version=e,this.options=Object.assign({},this.constructor.defaultOptions,n)}return t.getContext=function(t,e,n){return new this(t,e,n)},t.request=function(t,e,n,r){return this.getContext(t,e,r).request(n)},t.getDSL=function(){return new B(this)},t.getDSLParameter=function(){return new B.Parameter},t.setGlobalEnv=function(t){t&&(this.defaultOptions.env=t)},t.getGlobalEnv=function(){return this.defaultOptions.env},t.getMWPCookies=function(t,e){return this.MWPCookieJar.getCookies(this.getContext(t,e))},t.prototype.shouldRetry=function(){return this.retries<5},t.prototype.getToken=function(){throw new Error("Method not implemented.")},t.prototype.getParams=function(){return rt.getSignedParams(this)},t.prototype.getHostname=function(){var t=this.constructor.Hostname;switch(this.options.env){case A.Develop:return t.Develop;case A.PreRelease:return t.PreRelease;default:return t.Release}},t.prototype.getOrigin=function(){var t=this.options,e=t.useHTTPS?"https:":"http:";return e+"//"+this.getHostname()},t.prototype.getURL=function(){return this.getOrigin()+"/"+H+"/"+this.api+"/"+this.version+"/"},t.prototype.getHeaders=function(){return Object.assign({},this.options.headers)},t.prototype.getMWPCookies=function(){return this.constructor.MWPCookieJar.getCookies(this)},t.prototype.getMWPCookieHeader=function(){var t={},e=this.getMWPCookies();return Object.keys(e).length>0&&(t["mw-cookie-"+this.api.replace(/\./g,"")+this.version]=Object.keys(e).map(function(t){return t+"="+e[t]}).join("; ")+";"),t},t.prototype.request=function(t){return this.data=t,this.getToken()?this._fetch():this.enqueue()},t.prototype.fetch=function(t,e){e(new Error("Please implement `fetch` method in your own subclass"))},t.prototype.handleResponse=function(t){switch(t.ret){case N.TokenNeedRenew:return this._fetch();case N.NeedHttps:return this.options.useHTTPS=!0,this._fetch();default:return this.constructor.Promise.resolve(t)}},t.prototype._fetch=function(){var t=this;return new this.constructor.Promise(function(e,n){return t.shouldRetry()?(t.retries++,void t.fetch(e,n)):(console.warn("Have retried too much times"),n(new Error(C)))}).then(function(e){return t.handleResponse(e)})},t.prototype.enqueue=function(){var t=it.getQueue();if(t){var e=t.add(this._fetch.bind(this));return null===e?this._fetch():e}t=it.createQueue();var n=this._fetch(),r=t.exec.bind(t);return n.then(r,r),n},t.Promise=Promise,t.Env=A,t.Hostname=I[P.MGJ],t.Code=N,t.defaultOptions={useHTTPS:!1,env:A.Release},t.v="3.0.1",t.filterResult=l,t}(),at=/iPhone|iPad|iPod|Android|BlackBerry|IEMobile|Opera Mini/i;!function(t){t.PC="pc",t.H5="h5"}(nt||(nt={}));var ut,ct,pt,ht=(ut={},ut[P.MGJ]=/\.mogujie\.com$/,ut[P.MLS]=/\.meilishuo\.com$/,ut[P.XD]=/\.xiaodian\.com$/,ut),ft=(ct={},ct[P.MGJ]=/mogujie4/,ct[P.XD]=/xiaodian4/,ct),dt=(pt={},pt[P.MGJ]="100028",pt[P.MLS]="100066",pt[P.XD]="100028",pt),lt=function(){function t(e){void 0===e&&(e=location.hostname),this.userAgent=navigator.userAgent.toLowerCase(),this.version="1.0",this.type=t.getType(e),this.platform=t.getPlatform(this.userAgent)}return t.getType=function(t){var e=P.MGJ;return Object.keys(ht).some(function(n){return ht[n].test(t)?(e=n,!0):!1}),e},t.getPlatform=function(e){return t.isMobile(e)?nt.H5:nt.PC},t.isMobile=function(t){return at.test(t)},t.prototype.getHostname=function(){return I[this.type]},t.prototype.getUserAgentTester=function(){return ft[this.type]},t.prototype.getTTID=function(){return"NMMain@"+[this.type,this.platform,this.version].join("_")},t.prototype.getAppKey=function(){return dt[this.type]},t}(),mt=function(){},yt=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.retriesOnSignError=!1,e}return f(n,t),n.config=function(t){void 0===t&&(t={});var e=this.adaptor;["type","platform","version"].forEach(function(n){t[n]&&(e[n]=t[n])}),this.AppKey=e.getAppKey(),this.TTID=e.getTTID(),this.Hostname=e.getHostname(),this.useNativeMWP=y(e.getUserAgentTester()),this.setGlobalEnv(t.env)},n.prototype.request=function(e){var r=this;return n.useNativeMWP.then(function(n){return n?(r.data=e,r._fetch()):t.prototype.request.call(r,e)})},n.prototype.getToken=function(){return h(L)},n.prototype.fetch=function(t,e){var r=this;return this.options.forceJSONP?void this._fetchByWeb(t,e):void n.useNativeMWP.then(function(n){n?r._fetchByNative(t,e):r._fetchByWeb(t,e)})},n.prototype.getMWPCookieHeader=function(){return{}},n.prototype.getMWPCookies=function(){return{}},n.prototype._fetchByNative=function(t,e){window.mgj.ajax.mwp(t,e,this.api,this.version,this.data,"get",!this.options.useHTTPS)},n.prototype._fetchByWeb=function(t,e){var n=function(n,r){return n?void e(n):void t(r)};this.options.cors===!0?this._fetchWithCORS(n):this._fetchWithJSONP(n)},n.prototype._fetchWithJSONP=function(t){var n=this.getURL(),r=this.getParams(),i="mwpCb"+d();this.constructor.adaptor.userAgent.indexOf("xcore")>-1?(window[i]=function(e){t(null,e)},r.callback=i,r._=Date.now(),loader.script(n+(~n.indexOf("?")?"&":"?")+e(r),mt,t)):o(n,{data:r,jsonpCallback:i},t)},n.prototype._fetchWithCORS=function(t){var e=this.getURL(),n=this.getParams(),r={method:this.options.method,data:n,dataType:"json",credentials:"include",headers:{"content-type":R.form}};"function"==typeof fetch?s(e,r,t):XMLHttpRequest?i(e,r,t):this._fetchWithJSONP(t)},n.prototype.handleResponse=function(e){return"FAIL_SYS_SIGN_ERROR"!==e.ret||this.retriesOnSignError?t.prototype.handleResponse.call(this,e):(this.retriesOnSignError=!0,it.getQueue()||p("_mwp_h5_token",null,{domain:".meilishuo.com",path:"/"}),this.enqueue())},n.adaptor=new lt,n.Platform={PC:nt.PC,H5:nt.H5},n.Type={MGJ:P.MGJ,MLS:P.MLS,XD:P.XD},n.defaultOptions=Object.assign({},st.defaultOptions,{useHTTPS:"https:"===location.protocol,method:"GET"}),n}(st);return yt.config(),yt.setGlobalEnv(m()),yt}()}(this.M||this.MoGu||this);
function makeCallBackDelay(e,a){return function(){var t=a.offset().top,n=0,o=arguments,r=!1;if(t>window.innerHeight&&0===$(window).scrollTop()){n=1500;var c=setTimeout(function(){r=!0,e.apply(a,o)},n);$(document).one("touchmove scroll",function(){c&&clearTimeout(c),r||(r=!0,e.apply(a,o))})}else e.apply(a,o)}}$.fn.listenToLazyData=function(e){var a=$(this).attr("data-source-key"),t=$(this).attr("data-refresh-type");return t&&(a=a+""+t),MoGu&&MoGu.lazyInstance&&MoGu.lazyInstance._cache&&MoGu.lazyInstance._cache[a]?void makeCallBackDelay(e,$(this))({},!0,"",a,MoGu.lazyInstance._cache[a]||[],!1):void $(this).one("receive-data",makeCallBackDelay(e,$(this)))},define("base/core/datalazy",["base/MoGu"],function(e){function a(e){window.console&&console.warn&&console.warn.apply&&console.warn.apply&&console.log.apply(console,arguments)}function t(e){window.console&&console.error&&console.error.apply&&console.error.apply(console,arguments)}function n(e,a,t){var n=e.top,o=n+e.height;return t=t||0,!(o<a-t||n>a+m+t)}function o(e){return"none"!=e.css("display")&&"hidden"!=e.css("visibility")&&0!=e.css("opacity")&&e.width()}function r(e){var a={},t=e.split(";");return $(t).each(function(e,t){var n=t.split("="),o=n[0];o&&(a[o]=t.replace(o+"=",""))}),a}function c(e){return e.split(";").sort().join("")}function i(a,t,n){var o=a.find("#template-tpl").html(),r=e.ui.getTemplate(o,t||[]),c=a.find(a.attr("data-placeholder")||".entry-wrap");n?c.append(r):c.html(r)}function p(e){!this instanceof p&&t("please new function"),this.init(e)}"function"!=typeof Object.assign&&!function(){Object.assign=function(e){"use strict";if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(e),t=1;t<arguments.length;t++){var n=arguments[t];if(void 0!==n&&null!==n)for(var o in n)n.hasOwnProperty(o)&&(a[o]=n[o])}return a}}(),Object.keys||(Object.keys=function(){"use strict";var e=Object.prototype.hasOwnProperty,a=!{toString:null}.propertyIsEnumerable("toString"),t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=t.length;return function(o){if("object"!=typeof o&&("function"!=typeof o||null===o))throw new TypeError("Object.keys called on non-object");var r,c,i=[];for(r in o)e.call(o,r)&&i.push(r);if(a)for(c=0;c<n;c++)e.call(o,t[c])&&i.push(t[c]);return i}}()),Array.prototype.forEach||(Array.prototype.forEach=function(e,a){var t,n;if(null==this)throw new TypeError("this is null or not defined");var o=Object(this),r=o.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(t=a),n=0;n<r;){var c;n in o&&(c=o[n],e.call(t,c,n,o)),n++}});var u={dynamic:{url:"//mce.mogucdn.com/jsonp/multiget/3",backupUrl:"//mcebackup.mogucdn.com/jsonp/get/3",param:"pids",backupParam:"pid",type:"jsonp"},merge:{url:"//mce.mogucdn.com/jsonp/multiget/3",backupUrl:"//mcebackup.mogucdn.com/jsonp/get/3",param:"pids",backupParam:"pid",type:"jsonp"},appolo:{url:"//mce.mogucdn.com/jsonp/multiget/3",backupUrl:"//mcebackup.mogucdn.com/jsonp/get/3",param:"pids",backupParam:"pid",type:"jsonp"},mce:{url:"//mce.mogucdn.com/jsonp/multiget/3",backupUrl:"//mcebackup.mogucdn.com/jsonp/get/3",param:"pids",backupParam:"pid",type:"jsonp"},mceonly:{url:"//mce.mogucdn.com/jsonp/get/3",backupUrl:"//mcebackup.mogucdn.com/jsonp/get/3",param:"pid",backupParam:"pid",type:"jsonp"},mceats:{url:"//mce.mogucdn.com/jsonp/multiget/3",backupUrl:"//mcebackup.mogucdn.com/jsonp/get/3",param:"pids",backupParam:"pid",type:"jsonp"},mceonline:{url:"mwp.darwin.multiget",versionNum:"3",backupUrl:"//mcebackup.mogucdn.com/jsonp/multiget/3",param:"pids",backupParam:"pid",type:"mwp"},mceonlyonline:{url:"mwp.darwin.get",versionNum:"3",backupUrl:"//mcebackup.mogucdn.com/jsonp/get/3",param:"pid",backupParam:"pid",type:"mwp"},mcereconline:{url:"mwp.darwin.multirecommend",versionNum:"4",backupUrl:"//mcebackup.mogucdn.com/jsonp/multirecommend/4",param:"pids",backupParam:"pid",type:"mwp"},mcereconlyonline:{url:"mwp.darwin.recommend",versionNum:"4",backupUrl:"//mcebackup.mogucdn.com/jsonp/recommend/4",param:"pid",backupParam:"pid",type:"mwp"}},s=20,l=80,d={loading:1,success:2,paging:3,error:4},m=$(window).height();return p.DEFAULT_CONFIG={timeout:8e3,deviation:m,SELECTORS:{COLD:".coldData",AJAX:".lazyData"}},p.prototype={_cache:{},_ajaxMap:{},_hasReRendered:!1,handler:null,destory:function(){$(window).off("scroll touchmove resize",this.handler)},init:function(e){var a=this;this.config=$.extend({},p.DEFAULT_CONFIG,e),this.prepareAjaxData(),this.loadAjaxData(),this.handler=function(){a.loadAjaxData.call(a)},$(window).on("scroll touchmove resize",this.handler)},prepareAjaxData:function(e){var t=this.config.SELECTORS,n=$(t.AJAX),o=this,i={},p={},d={};n.length;this.$elems=n,n.each(function(t){var n=$(this),m=n.attr("data-source-type"),f=+n.attr("data-floornum")||s,h=n.attr("data-source-alone")||"",y=n.attr("data-extra-param")||"",g=n.offset(),v=e?""+ +new Date:"";if(!u[m])return void a("unknown data source type",m);if(y){var w=c(y);d[w]?v=d[w]:d[w]=v=""+ +new Date,y=r(y)}h&&(v=""+ +new Date),m+=v,i[m]=i[m]?i[m]:0,p[m]=p[m]?p[m]:1,i[m]+=f,i[m]>l&&(i[m]=0,p[m]++),m+=p[m];var j=o._ajaxMap[m]=o._ajaxMap[m]||{source:$.extend({},u[n.data("source-type")],{data:y||{}}),refreshType:v,list:[],offset:g};j.list.push({key:n.attr("data-source-key"),dom:n,offset:g,param:null}),g.top<j.offset.top&&$.extend(j.offset,g),n.attr("data-source-type",""),v&&n.attr("data-refresh-type",v)})},updateAjaxMap:function(e){if(e="boolean"==typeof e&&e,this._hasReRendered&&(e=!0,this._hasReRendered=!1),e){var t=this._ajaxMap;Object.keys(t).forEach(function(e){var n=t[e],o=n.list;if(!n.status)for(var r=0;r<o.length;r++){var c=o[r],i=c.dom,p=i.offset(),u=i.attr("data-source-key");u||a("source-key of the current dom should exist"),u!==c.key&&a("source-key[",u,"] of the current dom should match",c.key),c.offset=p}})}},loadAjaxData:function(){this.updateAjaxMap();var e=this._ajaxMap,t=$(window).scrollTop(),r=this._cache,c=this;for(var p in e)!function(p){var u=e[p];if(!u.status){for(var s=u.list,l=u.source,m=u.refreshType,f=!1,h=0;!f&&h<s.length;h++)f=f||n(s[h].offset,t,c.config.deviation)&&o(s[h].dom);if(f){for(var y=[],h=0;h<s.length;h++)y.push(s[h].key);y=y.join(",");var g=function(e){var a={};for(var t in e)e.hasOwnProperty(t)&&(a[t+m]=e[t].list);$.extend(r,a);for(var n=0;n<s.length;n++){var o=s[n],p=$(o.dom),l=o.key+m;r[l]&&(p.attr("data-manual")||i(p,r[l]),p.trigger("receive-data",[!0,"",l,r[l]||[]]))}u.status=d.success,setTimeout(function(){c._hasReRendered=!0,$(window).trigger("scroll")},50)},v=function(e){if(e&&e.success&&e.returnCode&&"SUCCESS"==e.returnCode){var a={};e.data&&e.data.list?a[y]=e.data:a=e.data,g(a)}else w(new Error(e&&e.returnCode||"error interface"))},w=function(e){var t=null;if(!e)return t=$.Deferred(),t.resolve(null),t;if(a("use backup url due to",e.toString()),!l.backupUrl)return void a("no backupUrl");var n=$.ajax;$._ajax&&"jsonp"===l.type&&(n=$._ajax);var o=$.extend({},l.data),r=(y||"").split(",");$(r).each(function(e,a){o[l.backupParam]=a,n.call($,{url:l.backupUrl,type:"GET",dataType:"jsonp",cache:!0,beforeSend:function(e,t){t.url=t.url.substring(0,t.url.indexOf("?")),t.url+="%3Fpid="+a+"&callback=jsonp"+a+"backup",window&&"pc"==window.MOGU_PLATFORM?t.url+="%3Fpid="+a+"&appPlat=pc&callback=jsonp"+a+"backup":t.url+="%3Fpid="+a+"&callback=jsonp"+a+"backup"},jsonpCallback:"jsonp"+a+"backup",data:o}).then(function(e){j.call(this,e,a)})})},j=function(e,a){if(e&&e.success&&e.returnCode&&"SUCCESS"==e.returnCode){var t={};t[a]=e.data,g(t)}};u.status=d.loading;var b=$.ajax;$._ajax&&"jsonp"===l.type&&(b=$._ajax);var k={};if($(".page_activity").hasClass("debug")&&(k=$.extend(k,{testing:1})),window&&"pc"==window.MOGU_PLATFORM)var x=$.extend(k,l.data,{appPlat:"pc"});else var x=$.extend(k,l.data);x[l.param]=y;var O="jsonp"+y.replace(/,/g,"_");O&&window[O]&&"function"==typeof window[O]&&(O+="new");var _=function(){b.call($,{url:l.url,type:"jsonp"!==l.type?l.type:"GET",dataType:"jsonp"!==l.type?"json":"jsonp",data:x,cache:!0,timeout:c.config.timeout,jsonpCallback:O}).done(v).fail(w)},C=function(e){M&&M.MWP&&M.MWP.request(l.url,l.versionNum,e).then(function(e){if(e&&e.ret&&"SUCCESS"==e.ret){var a=Object.assign({},e);a.returnCode=e.ret,a.success=!0,v(a)}else w(new Error(e&&e.ret||"error return null"))})["catch"](function(e){w(e)})};"mwp"==l.type?M&&M.ua&&M.ua["native"]&&window.hdp?document.addEventListener("deviceready",function(){mgj.device.signParams(function(e){"string"==typeof e&&(e=JSON.parse(e)),x.did=e._did,C(x)},function(){C(x)},{})},!1):C(x):_()}}}(p)}},p}),require(["base/MoGu","base/core/datalazy"],function(e,a){$(function(){var t=new a;return e.lazyInstance=t,e})});!function(){window.PTP_PARAMS=window.PTP_PARAMS||{};var a="cube-acm-node",t="show-log-item",n="anchor",e="module_row",r=function(a,t){t=t||location.href,t=t.split("#")[0];var n=new RegExp("(^|\\?|&)"+a+"=([^&]*)(\\s|&|$)","i");return n.test(t)?RegExp.$2.replace(/\+/g," "):""};$.extend(window.PTP_PARAMS,{urlExtendFn:function(s){var l,i=$(s),o=i.parents(),c=i.attr("data-ext-acm")||"",h=i.attr("href")||"",f=h&&h.indexOf("acm=")!==-1,d=i.hasClass(a)||i.hasClass(n)||i.hasClass(t)?i:null,m=0,u=0;$(o).each(function(n,r){d||!$(r).hasClass(a)&&!$(r).hasClass(t)||(d=$(r)),$(r).hasClass(e)&&(l=$(r))});var g=null;l&&l.length&&(g=$(l).find("."+a+",."+n+",."+t),u=g&&g.length),g&&g.length&&d&&d.length&&g.each(function(a,t){$(t)[0]===d[0]&&(m=a)});var x=l&&l.attr("data-acm")||"";if(x){if(f&&!c){if(h&&h.indexOf("mf_")!==-1)return;c=r("acm",h)}x=x.split(".");var w="";return c.indexOf("mf_")===-1&&(w=c+(c?x[6]?"-"+x[6]:"":x.join("."))),w&&d&&d.length&&(w+="-idx_"+m),w&&g&&g.length&&(w+="-mfs_"+u),!d&&c&&i&&i.removeAttr&&i.removeAttr("data-ext-acm"),{acm:w?w:c}}}})}();!function(e){function n(i){if(o[i])return o[i].exports;var t=o[i]={exports:{},id:i,loaded:!1};return e[i].call(t.exports,t,t.exports,n),t.loaded=!0,t.exports}var o={};return n.m=e,n.c=o,n.p="",n(0)}([function(e,n,o){var i=o(1),t=(Date.now||function(){return(new Date).getTime()},function(e){this.opts=$.extend({},this.defaults,e),this.scrollIndTime=i.is_ie_old?400:200,this.fistCheck=!1,this.imgErrorClock={},this.logInfo={type:i.loadType,protocol:i.protocol,num:0,succ:0,err:0,domainInfo:{}},this.logTimer=0,this.init()});t.prototype={init:function(){var e=this,n=0;$(window).scroll(function(o){clearTimeout(n),n=setTimeout(function(){e.checkImages()},e.scrollIndTime)}),setTimeout(function(){i.checkNeedCdnBanlance(),e.fistCheck=!0,e.checkImages()},0),_imgLog(e.logInfo),e.logTimer=setTimeout(e.pubInfoLog.bind(e),3e3)},getInActiveFlag:function(e,n){var o,i,t,a,r=n[0],d=r.getBoundingClientRect&&r.getBoundingClientRect();d?(o=d.top+e.scrollTop,i=d.bottom+e.scrollTop,t=d.left,a=d.right):(o=n.offset().top,i=o+n.height(),t=n.offset().left,a=t+n.width());var l=i>e.top&&o<e.bot,s=a>e.left&&t<e.right;return!(!l||!s)&&!("none"==n.css("display")||"hidden"==n.css("visibility")||0==n.css("opacity")||!n[0].offsetWidth)},checkModRow:function(e){var n=this,o=$(".mod_row");return o.each(function(o,i){var t=$(i);n.getInActiveFlag(e,t)?t.addClass("J_mod_row_show"):t.removeClass("J_mod_row_show")}),$(".J_mod_row_show")},checkImages:function(e){var n=this;if(n.fistCheck){var o=document.documentElement.scrollTop||document.body.scrollTop,t=n.opts.showDistance,a={};a.top=o-t,a.bot=o+(i.clientHeight||document.documentElement.clientHeight||document.body.clientHeight)+t,a.left=0,a.right=i.clientWidth,a.scrollTop=o;var r=$("body");e?r=e:window.MOGU_MF_DEVELOP_ENV&&$(".mod_row").length>0&&(r=n.checkModRow(a)),setTimeout(function(){for(var e=r.hasClass(n.opts.objsClassName)?r:r.find("."+n.opts.objsClassName),o=e.length,i=0;i<o;i++){var t=e.eq(i);if(t.attr("img-src")){var d=t.hasClass("J_loading_success"),l=t.hasClass("J_loading"),s=t.attr("need-remove")?t.attr("need-remove"):"no";if(!d||"yes"==s){var g=n.getInActiveFlag(a,t);if(g)d||l||n.getLoadImage(t);else if("yes"==s&&(d||l))if(t.removeClass("J_loading"),t.removeClass("J_loading_success"),"background"==t.attr("insert-model"))t[0].style.backgroundImage="none";else{var c=t.find(".J_dynamic_img");c.remove()}}}}},0)}},preloadImages:function(e){var n=this;setTimeout(function(){if(e&&e.length&&e.hasClass&&e.find)for(var o=e.hasClass(n.opts.objsClassName)?e:e.find("."+n.opts.objsClassName),i=o.length,t=0;t<i;t++){var a=o.eq(t);if(a.attr("img-src")){var r=a.hasClass("J_loading_success"),d=a.hasClass("J_loading");r||d||(a.attr("need-remove","no"),n.getLoadImage(a))}}},0)},getLoadImage:function(e){var n=this;if(!e.hasClass("J_loading")){var o=e.attr("img-src"),t={type:i.loadType,protocol:i.protocol,domain:"",boxId:e.attr("id")?e.attr("id"):o,loadNum:0,suffixUrl:o,finalUrl:o,imgUrl:o,width:e.attr("suffix-width")?e.attr("suffix-width"):e.width(),ratio:e.attr("suffix-ratio"),imgCode:e.attr("suffix-code"),model:e.attr("suffix-model"),useWebp:"no"!=e.attr("use-webp"),insert:e.attr("insert-model")};(e.hasClass("full-width-wrap")||"no"==t.width)&&(t.width=9999),t.imgCode?t.suffixUrl=i.getCodeSuffix(t.imgUrl,t.imgCode,t.useWebp):!t.ratio||"1:1"!=t.ratio&&"7:9"!=t.ratio&&"3:4"!=t.ratio&&"2:3"!=t.ratio?"orig_narrow"==t.model?t.suffixUrl=i.getHalfSuffix(t.imgUrl,t.useWebp):t.suffixUrl=i.getWidthSuffix(t.imgUrl,t.width,t.useWebp):t.suffixUrl=i.getGoodsRatioSuffix(t.imgUrl,t.width,t.ratio,t.useWebp),t.finalUrl=i.getCdnBanlanceUrl(t.suffixUrl),t.domain=n.getImageDomain(t.finalUrl),n.loadingImage(e,t)}},loadingImage:function(e,n){var o=this;e.addClass("J_loading");var t=n.finalUrl;if(!(o.imgErrorClock[n.imgUrl]>=4)){var a=new Image;a.src=t,a.complete?o.insertImg(a,e,n):(a.onload=function(){o.insertImg(a,e,n)},a.onerror=function(){o.imgErrorClock[n.imgUrl]?o.imgErrorClock[n.imgUrl]++:o.imgErrorClock[n.imgUrl]=1,n.loadNum++,n.type==i.loadType&&(o.pushErrorLog(n),o.addLogInfo(n,"err")),o.imgErrorClock[n.imgUrl]<4&&n.loadNum<4?(n.type=3,n.suffixUrl!=n.finalUrl&&(n.domain=o.getImageDomain(n.suffixUrl),n.finalUrl=n.suffixUrl),o.loadingImage(e,n)):o.pushErrorLog(n)})}},insertImg:function(e,n,o){var i=this;i.addLogInfo(o,"succ"),n.hasClass("J_loading")&&(n.removeClass("J_loading").addClass("J_loading_success"),"background"==o.insert?(n[0].style.backgroundImage="url("+e.src+")",n[0].style.backgroundRepeat="no-repeat"):n.append('<img class="J_dynamic_img fill_img" src="'+e.src+'" alt=""/>'))},getImageDomain:function(e){try{var n=/^([\w\d]*)\/\/([\w\d\-_]+(?:\.[\w\d\-_]+)*)/,o=e.match(n);if(o&&o.length>2)return o[2]}catch(i){}return""},addLogInfo:function(e,n){var o=this;o.logInfo.num++,o.logInfo[n]++,e.domain&&(o.logInfo.domainInfo[e.domain]||(o.logInfo.domainInfo[e.domain]={succ:0,err:0,num:0}),o.logInfo.domainInfo[e.domain].num++,o.logInfo.domainInfo[e.domain][n]++),o.logInfo.num>=30&&o.pubInfoLog()},pubInfoLog:function(){var e=this;if(clearTimeout(e.logTimer),e.logInfo.num>0){if(e.logInfo.type=i.loadType,_imgLog("\u89e6\u53d1\u5168\u5c40\u56fe\u7247\u52a0\u8f7d\u4fe1\u606f\u6253\u70b9\uff0c\u6253\u70b9\u683c\u5f0f\u5982\u4e0b"),_imgLog(e.logInfo),window.logger&&logger.log)try{logger.log("016010004",e.logInfo)}catch(n){_imgLog(n)}e.logInfo={type:i.loadType,protocol:i.protocol,num:0,succ:0,err:0,domainInfo:{}}}e.logTimer=setTimeout(e.pubInfoLog.bind(e),3e3)},pushErrorLog:function(e){if(window._trace&&_trace.sendMsg){var n=$.extend({},e,{url:e.finalUrl,_author:"lanpang,yanchen,suling"});_trace.sendMsg(new Error(e.domain),n),_imgLog("\u89e6\u53d1\u56fe\u7247\u52a0\u8f7d\u9519\u8bef\u6253\u70b9\uff0c\u6253\u70b9\u683c\u5f0f\u5982\u4e0b"),_imgLog(n)}},destroy:function(){},defaults:{objsClassName:"J_dynamic_imagebox",showDistance:0}},M.DynamicImage=t;var a=M.dynamicImage;a||(a=new t({showDistance:$(window).height()}),M.dynamicImage=a),MoGu.dynamicImage=M.dynamicImage,e.exports=a},function(e,n){window.MoGu=window.MoGu||{},window.M=window.M||{},window._imgLog=function(e){var n=window.location.href,o=n.indexOf("isLog=true");o>-1&&window.console&&console.log&&console.log(e)};var o=navigator.userAgent;M.isUseWebp=!1;var i={imgKeyArr:["80","100","160","180","200","240","280","300","320","360","400","440","480","520","540","560","600","640"],imgKeyMap:{80:{"1:1":"80x80","7:9":"80x103","3:4":"80x107","2:3":"80x120",999:"80x999"},100:{"1:1":"100x100","7:9":"100x129","3:4":"100x134","2:3":"100x150",999:"100x999"},160:{"1:1":"160x160","7:9":"160x206","3:4":"160x214","2:3":"160x240",999:"160x999"},180:{"1:1":"180x180","7:9":"180x232","3:4":"180x240","2:3":"180x270",999:"180x999"},200:{"1:1":"200x200","7:9":"200x258","3:4":"200x268","2:3":"200x300",999:"200x999"},240:{"1:1":"240x240","7:9":"240x308","3:4":"240x320","2:3":"240x360",999:"240x999"},280:{"1:1":"280x280","7:9":"280x360","3:4":"280x374","2:3":"280x420",999:"280x999"},300:{"1:1":"300x300","7:9":"300x386","3:4":"300x400","2:3":"300x450",999:"300x999"},320:{"1:1":"320x320","7:9":"320x412","3:4":"320x428","2:3":"320x480",999:"320x999"},360:{"1:1":"360x360","7:9":"360x463","3:4":"360x480","2:3":"360x540",999:"360x999"},400:{"1:1":"400x400","7:9":"400x515","3:4":"400x534","2:3":"400x600",999:"400x999"},440:{"1:1":"440x440","7:9":"440x566","3:4":"440x587","2:3":"440x660",999:"440x999"},480:{"1:1":"480x480","7:9":"480x618","3:4":"480x640","2:3":"480x720",999:"480x999"},520:{"1:1":"520x520","7:9":"520x670","3:4":"520x694","2:3":"520x780",999:"520x999"},540:{"1:1":"540x540","7:9":"540x695","3:4":"540x720","2:3":"540x810",999:"540x999"},560:{"1:1":"560x560","7:9":"560x720","3:4":"560x747","2:3":"560x840",999:"560x999"},600:{"1:1":"600x600","7:9":"600x772","3:4":"600x800","2:3":"600x900",999:"600x999"},640:{"1:1":"640x640","7:9":"640x824","3:4":"640x854","2:3":"640x960",999:"640x999"}},imgQuality:70,dprDefMaxWidth:640,dprDefRatio:"999",defCode:"999x999.v1c0",clientHeight:null,clientWidth:null,dpr:null,dprClentWidth:null,loadType:1,protocol:"http",domainArr:[],domainHistoryCache:{},domainIndex:0,domainLength:0};i.ua=o,i.android=o.match(/(Android);?[\s\/]+([\d.]+)?/),i.ios=o.match(/(iPad).*OS\s([\d_]+)/)||o.match(/(iPod)(.*OS\s([\d_]+))?/)||o.match(/(iPhone\sOS)\s([\d_]+)/),i.wp=o.match(/Windows Phone ([\d.]+)/),i.is_mobile=i.android||i.ios||i.wp,i.is_ie_old=o.indexOf("MSIE")>0,i.init=function(){var e=this;e.clientHeight=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,e.clientWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,window.addEventListener&&window.addEventListener("resize",function(){e.clientHeight=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,e.clientWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},!1),e.dpr=window.devicePixelRatio>=1?window.devicePixelRatio:1,e.dprClentWidth=e.clientWidth*e.dpr,window.location.href.split&&(e.protocol=window.location.href.split("://")[0]),e.checkSupportWebp(),e.checkNeedCdnBanlance(),e.is_mobile&&e.getAppInfo()},i.setWebpFlag=function(e){M.isUseWebp=!!e},i.checkSupportWebp=function(){var e=this,n=new Image;n.onload=function(){e.setWebpFlag(!0)},n.onerror=function(){e.ios&&"undefined"!=typeof localStorage?e.setWebpFlag("true"===localStorage.getItem("isWebpEnable")):e.setWebpFlag(!1)},n.src="data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAsAAAABBxAREYiI/gcAAABWUDggGAAAADABAJ0BKgEAAQABABwlpAADcAD+/gbQAA=="},i.checkNeedCdnBanlance=function(){var e=this;if(!e.domainLength)try{if(window.ImgCdnBanlance&&ImgCdnBanlance instanceof Array&&ImgCdnBanlance.length>0){for(var n=ImgCdnBanlance.length,o=0;o<n;o++){var i=ImgCdnBanlance[o];if(i.domain&&i.domain.indexOf("mogucdn")>0&&i.weight&&parseInt(i.weight)>0)for(var t=parseInt(i.weight),a=0;a<t;a++)e.domainArr.push(i.domain),e.domainLength++}e.domainLength&&(e.loadType=2)}}catch(r){e.loadType=1}},i.getCdnDomain=function(){var e=this;e.domainIndex>=e.domainLength&&(e.domainIndex=0);var n=e.domainArr[e.domainIndex];return e.domainIndex++,n},i.getCdnBanlanceUrl=function(e){var n=this;if(2!=n.loadType||!e||"string"!=typeof e)return e;if(n.domainHistoryCache[e])return n.domainHistoryCache[e];var o=e.split("mogucdn.com/");if(2!=o.length)return e;var i=n.getCdnDomain();if(i){o[0]="//"+i;var t=o.join("/");return n.domainHistoryCache[e]=t,t}return e},i.getDefSuffix=function(e,n){var o=this,i="";if(o.android||o.ios||o.wp){var t=o.dprClentWidth;t<=375?i="375x9999.v1c7E":375<t&&t<=750?i="750x9999.v1c7E":750<t&&(i="1125x9999.v1c7E")}else i=o.defCode;return o.getCodeSuffix(e,i,n)},i.getWidthSuffix=function(e,n,o,i){var t=this;"undefined"==typeof i&&(i=!0);var a=t.defCode,r=i?t.dpr:1,d=parseInt(n)*r;return d&&d>0&&d<1950&&(d+=50,a=100*Math.ceil(d/100)+"x9999.v1c7E"),t.getCodeSuffix(e,a,o)},i.getGoodsRatioSuffix=function(e,n,o,i,t){var a=this;"undefined"==typeof t&&(t=!0);var r=a.defCode,d="",l=".v1cAC",s=t?a.dpr:1;switch(o){case"1:1":case"7:9":case"3:4":case"2:3":d=o;break;default:d=a.dprDefRatio,l=".v1c96"}var g=parseInt(n)*s;(!g||g<0||g>a.dprDefMaxWidth)&&(g=a.dprDefMaxWidth);for(var c=0;c<a.imgKeyArr.length;c++){var f=a.imgKeyArr[c];if(g<=f||f==a.dprDefMaxWidth){r=a.imgKeyMap[f][d]+l;break}}return a.getCodeSuffix(e,r,i)},i.getHalfSuffix=function(e,n){var o=this,i="";return o.dpr<2?(i="50000x50000.v1c7E",e=o.getCodeSuffix(e,i,n)):e=o.getDefSuffix(e,n),e},i.getCodeSuffix=function(e,n,o){var i=this;if(!e||!n||"no"==n||e.indexOf(".webp")>0||e.indexOf(".gif")>0)return e;if(e.indexOf("mogucdn")===-1)return e;if(e.indexOf(".jpg")<0&&e.indexOf(".png")<0)return e;if(e.indexOf(".jpg")>0&&e.indexOf(".png")>0)return e;e.indexOf("https:")>=0&&(e=e.split("https:")[1]),e.indexOf("http:")>=0&&(e=e.split("http:")[1]);var t=e,a="",r=e.split(".");if("jpg"==r[r.length-1])a="jpg";else{if("png"!=r[r.length-1])return e;a="png"}var n="_"+n,d="."+i.imgQuality+".";if(e.indexOf(".png_")<0&&e.indexOf(".jpg_")<0&&e.indexOf("."+a)==e.length-4&&(e=e+n+d+a),M.isUseWebp&&o!==!1){if(e.indexOf("."+a+"_")>0){var l=e.split(".");l[l.length-1]==a&&(l[l.length-1]="webp",e=l.join("."))}}else if("png"==a)return t;return e},i.getAppInfo=function(){var e=this;"undefined"!=typeof hdp?(hdp["do"]("mgj.device.getInfo").then(function(n){n&&n.networkType&&4!=n.networkType&&5!=n.networkType&&(e.imgQuality=50)})["catch"](function(e){}),e.ios&&"undefined"!=typeof localStorage&&hdp["do"]("hybrid.settings.getWebpEnabled").then(function(e){localStorage.setItem("isWebpEnable",e)})["catch"](function(){localStorage.setItem("isWebpEnable",!1)})):"undefined"!=typeof document&&document.addEventListener&&document.addEventListener("deviceready",function(){window.mgj&&mgj.device&&mgj.device.getInfo&&mgj.device.getInfo(function(n){n&&n.networkType&&4!=n.networkType&&5!=n.networkType&&(e.imgQuality=50)}),e.ios&&"undefined"!=typeof localStorage&&window.hybrid&&hybrid.settings&&hybrid.settings.getWebpEnabled&&hybrid.settings.getWebpEnabled(function(e){localStorage.setItem("isWebpEnable",e)},function(){localStorage.setItem("isWebpEnable",!1)})},function(){})},M.ImgUrlTool||(i.init(),M.ImgUrlTool=i),MoGu.ImgUrlTool=M.ImgUrlTool,e.exports=M.ImgUrlTool}]);!function(){"use strict";function e(){var e="1";return S.isMobile&&(e="m1"),S.isIos&&S.isNative?e="am0":S.isAndroid&&S.isNative&&(e="am1"),e}function t(){var e=L.getValue(N.ptp_cnt_b);if(e)return e;var t="",n=location.href.split("?")[0];return t=U.pageHash(n)}function n(){var e=L.getCookieOrFunc(N.cpsinfo);return e?e=e.replace("-",","):""}function r(e){if(e){var t=L.getValue(N.urlExtendFn,e);return L.hasKey(t)?t:void 0}}function i(e){if(e){e.length&&(e=e[0]);var t=L.getValue(N.ptp_cnt_c_d,e);if(t)return t;var n=e.getAttribute("data-ptp-customc");if(n)return{c:n,d:Q.getIndex("data-ptp-customc",n,e)};if(e=Q.getParents(e,"data-ptp-customc"))return n=e.getAttribute("data-ptp-customc"),n?{c:n,d:Q.getIndex("data-ptp-customc",n,e)}:void 0}}function o(){return L.getCookieOrFunc(N.uuid)}function a(){window.PTP_PARAMS&&L.extend(N,window.PTP_PARAMS);var e=navigator.userAgent.toLocaleLowerCase();return S.isNative=N.isNativeRe.test(e),{time:L.getTime(),ver:"1.0.7",uid:L.getCookieOrFunc(N.uid),_channel:"","tid-token":"",launchTime:L.getTime(),active:0,deviceName:"",os_ver:"",root:0,network:0,provider:"",url:location.href,refer:document.referrer,ptp_url:L.getQuery("ptp",location.search),ptp_ref:L.getQuery("ptp",document.referrer?document.referrer:""),eid:"0",ext:{cpsparam:L.getCookie("__cps"),cpsinfo:n(),_notNative:!S.isNative}}}function u(){F.a=e(),F.b=t(),F.c=0,F.d=0}function c(e,t){t=t||{};var n=[];for(var r in t){var i=t[r];i||(i=""),i=encodeURIComponent(i),n.push(r+"="+i)}n=n.join("&"),e=e.indexOf("?")>-1?e+"&"+n:e+"?"+n;var o=new Image;o.src=e}function d(e,t){e+="?web=1",t=t||{};var n,r=V++;try{n=document.createElement('<iframe name="'+r+'">')}catch(i){n=document.createElement("iframe"),n.setAttribute("name",r)}try{n.style.display="none",document.body.appendChild(n),n.contentWindow.name=r;var o=document.createElement("form");o.setAttribute("method","POST"),o.setAttribute("action",e),o.setAttribute("target",r);for(var a in t)if(t.hasOwnProperty(a)){var u=document.createElement("input");u.setAttribute("type","hidden"),u.setAttribute("name",a),u.setAttribute("value",t[a]),o.appendChild(u)}document.body.appendChild(o),o.submit(),L.registerEvent(n,"load",function(){try{document.body.removeChild(o),document.body.removeChild(n)}catch(e){}})}catch(i){window.M&&M.log(i)}}function f(){if(!J){J=!0;for(var e=0;e<D.length;e++)D[e].fn.call(window,D[e].ctx);D=[]}}function s(){"complete"===document.readyState&&f()}function p(e,t){return J?void setTimeout(function(){e(t)},1):(D.push({fn:e,ctx:t}),void("complete"===document.readyState||!document.attachEvent&&"interactive"===document.readyState?setTimeout(f,1):K||(document.addEventListener?(document.addEventListener("DOMContentLoaded",f,!1),window.addEventListener("load",f,!1)):(document.attachEvent("onreadystatechange",s),window.attachEvent("onload",f)),K=!0)))}function l(){return W}function g(e,t,n){"undefined"!=typeof e&&(t=t||{},n&&window.M&&M.web.AB&&(t.abinfo=M.web.AB.formatAB(n)),p(function(){var n=H.getPtpInfoAndExtra(t);n.eid=e,l()?z.logData("e",L.extend({},n)):L.listenTo("LoggerReady",function(){var e=H.getPtpInfoAndExtra(t);z.logData("e",L.extend({},e))}),window.MtaH5&&MtaH5.clickStat&&MtaH5.clickStat(e,t)}))}function v(){var e=H.getPtpInfoAndExtra(),t=L.getValue(N.pEventId);e.eid=t,z.logData("p",e)}function m(){if(S.isNative){var e=H.getPtpCnt();window.M&&M.web.AB&&M.web.AB.isAB?M.web.AB.collectExps().then(function(t){t.length?z.logAppPevent(e,t):z.logAppPevent(e)}):z.logAppPevent(e)}else l()?v():L.listenTo("LoggerReady",function(){v()})}function h(){p(function(){H.refreshPtp(),H.refreshE(),m()})}function w(e){var t=e.href;if(!(t.indexOf("mogujie.com/mtalk/")>-1)&&(N.hrefRe.test(t)||N.mgjRe.test(t))){var n=e.getAttribute("data-ptp-cache-id");t=e.getAttribute("href"),n&&N.ptpRe.test(n)||(n=H.createPtpCnt(e),e.setAttribute("data-ptp-cache-id",n)),e.href=H.makeUrl(t,n,e)}}function y(e){if(e.getAttribute){var t=e.getAttribute("href");if(null===t||0===t.indexOf("#"))return!1}return!0}function x(e){var t=e||window.event,n=t.target||t.srcElement,r=Q.getA(n),i="AREA"===n.nodeName?n:null;i&&(r=i),r&&(r.href&&r.href.indexOf("javascript:")>-1||y(r)&&w(r))}function A(e,t){if("undefined"==typeof e)return"";var n="";return n=t?H.createPtpCnt(t):H.getPtpCnt(),H.makeUrl(e,n,t)}function E(){var e=A("");e=e.split("?")[1],e=e.split("&");for(var t,n="",r=0,i=e.length;r<i;r++)t=e[r].split("="),n+='<input type="hidden" name="'+t[0]+'" value="'+(t[1]?t[1]:"")+'"/>';return n}var P=1001,b={},C={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},_=/(&|<|>|"|`|')/g,L={escapeHtml:function(e){return e.replace(_,function(e){return C[e]})},isIE:function(e){var t=document.createElement("b");return t.innerHTML="<!--[if IE "+e+"]><i></i><![endif]-->",1===t.getElementsByTagName("i").length},stringify:function(e){var t=this;if("undefined"!=typeof JSON)return JSON.stringify(e);var n=typeof e;if("object"!=n||null===e)return"string"==n&&(e='"'+e+'"'),String(e);var r,i,o=[],a=e&&e.constructor==Array;for(r in e)i=e[r],n=typeof i,e.hasOwnProperty(r)&&("string"==n?i='"'+i+'"':"object"==n&&null!==i&&(i=t.stringify(i)),o.push((a?"":'"'+r+'":')+String(i)));return(a?"[":"{")+String(o)+(a?"]":"}")},isArray:function(e){return"[object Array]"==Object.prototype.toString.call(e)},getCookieInArray:function(e){for(var t=this,n=0,r=e.length;n<r;n++){var i=t.getCookie(e[n]);if(i)return i}return""},getCookieOrFunc:function(e){return"function"==typeof e?this.getValue(e):this.getCookie(e)},getCookie:function(e){if(this.isArray(e))return this.getCookieInArray(e);var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return null!==t?decodeURIComponent(t[2]):""},getQuery:function(e,t){"undefined"==typeof t&&(t=location.search);var n="(^|&|\\?)"+e+"=([^&]*)(&|$)",r=new RegExp(n,"i"),i=t.substr(1).match(r);return null!==i?this.escapeHtml(decodeURIComponent(i[2])):""},setQuery:function(e,t,n){var r=new RegExp("([?&])"+t+"=.*?(&|$)","i"),i=e.indexOf("?")!==-1?"&":"?";return e.match(r)?e.replace(r,"$1"+t+"="+n+"$2"):e+i+t+"="+n},getTime:function(){return(new Date).getTime()},registerEvent:function(e,t,n){window.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n,!1)},extend:function(){for(var e=arguments,t=arguments[0],n=1;n<e.length;n++){var r=e[n];for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t},getValue:function(e){if(e){if("function"==typeof e)try{var t=Array.prototype.slice.call(arguments,1);return e.apply(null,t)}catch(n){return window.M&&window.M.log("**logger.js---\u6253\u70b9\u51fa\u9519:"+n),""}return e}},loadScript:function(e,t,n){if(window["callback_"+P]=function(e){t&&t(e)},e=this.setQuery(e,"callback","callback_"+P),P+=1,n)window.loader.script(e,function(){},function(){});else{var r=document.createElement("script");r.src=e;var i=document.getElementsByTagName("head")[0];i&&i.appendChild(r)}},listenTo:function(e,t){b[e]||(b[e]=[]),b[e].push(t)},fire:function(e){var t=b[e];if(t&&t.length){for(var n=0,r=t.length;n<r;n++)t[n].call();b[e]=[]}},hasKey:function(e){if(!e)return!1;for(var t in e)if(e.hasOwnProperty(t))return!0;return!1}},k="https:"===location.protocol?"https:":"http:",I="mogujie";location.host.indexOf("meilishuo")!=-1&&(I="meilishuo");var N={LogUrl:k+"//log.mogujie.com/log",CookieUrl:k+"//portal."+I+".com/api/util/getUuid",shouldRequestCookie:function(){var e=L.getCookieOrFunc(this.uuid);return!e},uuid:["__mgjuuid","__xduuid"],uid:"__ud_",cpsinfo:"__cpsinfo",ptp_cnt_a:"",ptp_cnt_b:"",ptp_cnt_c_d:"",platform:function(){var e=navigator.userAgent.toLowerCase();if(/qq\/([\d\.]+)/.test(e)||/qzone\//.test(e))return 48},pEventId:"0",isMobileRe:/iphone|android|ipad/i,ptpRe:/[a-z0-9]+\.[a-z0-9]+\.[a-z0-9]+\.[a-z0-9]+\.[a-z0-9]+/i,hrefRe:/http[s]?:\/\/(\w+\.){1,2}(mogujie|meilishuo|xiaodian|uniny)\.com([\/]|\/.*|)$/,mgjRe:/(mgj|mls):\/\//,mtRe:/\?.*[&]?mt=([^\.]+)\.([^\.]+)\.([^\.&#]+)/,chasing:["f","f2","mlf","s","_fu"],urlExtend:["acm"],urlExtendFn:function(){},extra:{},isNativeRe:/(mogujie|meilishuo|mls|mgjtuangou|xiaodian|xcore)/i,nativeLog:{}},j=navigator.userAgent.toLocaleLowerCase(),O=!1,R=j.indexOf("xcore")>-1;R&&window.loader&&window.loader.script&&(O=!0);var S={isWX:j.indexOf("micromessenger")>-1,isApp:N.isNativeRe.test(j),isNative:N.isNativeRe.test(j),isMobile:N.isMobileRe.test(j),isIos:j.indexOf("iphone")>-1,isAndroid:j.indexOf("android")>-1,isLowIE:L.isIE(6)||L.isIE(7)||L.isIE(8),xcore:O},T=window.jQuery||window.Zepto,B=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]==t)return n+1;return-1},Q={getA:function(e){var t=e;if("A"==t.tagName)return e;for(;t.parentNode;)if(t=t.parentNode,"A"==t.tagName)return t},getParentByClass:function(e,t){if(e){if(T)return $(e).parents("."+t);for(var n,r=e;r.parentNode;)if(r=r.parentNode,n=r.className&&r.className.indexOf(t)!=-1)return r}},getParents:function(e,t){if(e){if(t=t||"",T)return t="["+t+"]",$(e).parents(t)[0];for(var n,r=e;r.parentNode;)if(r=r.parentNode,n=r.getAttribute&&r.getAttribute(t))return r}},getIndex:function(e,t,n){if(!e||!t||!n)return 0;if(T)return $("["+e+'="'+t+'"]').index($(n))+1;if(document.querySelectorAll){var r=document.querySelectorAll("["+e+'="'+t+'"]');return B(r,n)}return 1},getElemIndex:function(e,t,n){if(!e||!t||!n)return 0;if(T)return $(e).find(t).index($(n))+1;if(e.querySelectorAll){var r=e.querySelectorAll(t);return B(r,n)}return 1},is:function(e,t){return!(!e||!t)&&(e.length&&(e=e[0]),e.nodeName.toLowerCase()===t.toLowerCase()||void 0)}},U={arr:"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",rand:function(e){var t,n,r=this,i="",o=0;for(t=0;t<e;t++)n=parseInt(Math.random()*r.arr.length,10),i+=r.arr.charAt(n),o+=r.arr.charCodeAt(n);return i+=this.arr.charAt(o%this.arr.length)},pageHash:function(e){var t=this,n=5381,r=e.length-1;if("string"==typeof e)for(;r>-1;r--)n+=(n<<5)+e.charCodeAt(r);else for(;r>-1;r--)n+=(n<<5)+e[r];var i=2147483647&n,o="";do o+=t.arr.charAt(61&i),i>>=6;while(i);return o}},q=a(),F={a:e(),b:t(),c:0,d:0,e:N.ptp_cnt_e?N.ptp_cnt_e:U.rand(5)},H={getPlatform:function(){var e=L.getValue(N.platform);return e?e:S.isMobile?32:31},getPtpByType:function(e){var t=[0,o(),e];return t},getPtpCnt:function(e,t){return e||(e=F.c),t||(t=F.d),[F.a,F.b,e,t,F.e].join(".")},getPtpInfo:function(){var e={};return L.extend(e,q,{ptp_cnt:this.getPtpCnt()})},getPtpInfoAndExtra:function(e){var t=this.getPtpInfo(),n={};if(N.extra)for(var r in N.extra)N.extra.hasOwnProperty(r)&&(n[r]=L.getValue(N.extra[r]));var i=L.extend({},t.ext,n,e);return L.extend({},t,{ext:i})},createPtpCnt:function(e){var t=i(e),n=0,r=0;if(t)return this.getPtpCnt(t.c,t.d);var o=Q.getParents(e,"data-ptp"),a=Q.getParentByClass(e,"data-ptp-item");return o&&(n=o.getAttribute("data-ptp"),r=a?Q.getElemIndex(o,".data-ptp-item",a):Q.getElemIndex(o,"a",e)),r||(r=0),this.getPtpCnt(n,r)},makeUrl:function(e,t,n){var r=e.match(/(#.+)$/);return e=e.replace(/(#.+)$/,""),e=L.setQuery(e,"ptp",t),e=this.getChasingParams(e),e=this.getExtendParams(n,e),r&&(e+=r[1]),e},getChasingParams:function(e){"undefined"==typeof e&&(e="");var t=e;if(!N.chasing)return t;N.chasing.length||(N.chasing=[N.chasing]);for(var n,r,i=0,o=N.chasing.length;i<o;i++)n=N.chasing[i],r=L.getQuery(n),r&&(t=L.setQuery(t,n,r));for(var a=location.search,u=/[\?&](_f_[^=]+)=([^&]+)/g,c=u.exec(a);c&&3==c.length;)t=L.setQuery(t,c[1],c[2]),c=u.exec(a);return t},getExtendParams:function(e,t){var n=t;if(!e||!Q.is(e,"a"))return n;var i=r(e);if(i)for(var o in i)i.hasOwnProperty(o)&&(n=L.setQuery(n,o,i[o]));else{e.length&&(e=e[0]);for(var a=N.urlExtend||[],u=0,c=a.length;u<c;u++){var d=a[u],f=e.getAttribute("data-ext-"+d);f&&(n=L.setQuery(n,d,f))}}return n},refreshPtp:function(){q=a(),u()},refreshE:function(){F&&(F.e=U.rand(5))}},V=0,z={sendLog:function(e,t){S.isLowIE?d(e,t):c(e,t)},sendAppLog:function(e,t){return e+="",N.nativeLog&&N.nativeLog.logE?N.nativeLog.logE(e,t):void(window.hdp&&window.hdp.exec?hdp.exec("mgj.tracker.sendEvent",e,t):document.addEventListener("deviceready",function(){window.mgj&&mgj.tracker&&mgj.tracker.sendEvent&&mgj.tracker.sendEvent(e,t)},!1))},logAppPevent:function(e,t){return N.nativeLog&&N.nativeLog.logP?N.nativeLog.logP(e,t):void(window.hdp&&window.hdp.exec?hdp.exec("mgj.pevent",e,t).then(function(){},function(){}):document.addEventListener("deviceready",function(){window.mgj&&mgj.pevent&&mgj.pevent(function(){},null,e)},!1))},logData:function(e,t){var n=H.getPtpByType(e),r=t.eid;if(n.push(L.stringify(t)),S.isNative){var i=t.ext;i.ptp_cnt=t.ptp_cnt,i.ptp_url=t.ptp_url,i.ptp_ref=t.ptp_ref,i.uid=t.uid,z.sendAppLog(r,i)}else z.sendLog(N.LogUrl,{v:2,pt:L.getTime(),pf:H.getPlatform(),data:n.join("\t")})}},D=[],J=!1,K=!1,W=S.isNative||!N.shouldRequestCookie();W||L.loadScript(N.CookieUrl,function(){W=!0,L.fire("LoggerReady")},S.xcore),"undefined"==typeof location.search&&(location.search=location.href.split("#")[0]);var X={version:"1.0.7",ptp:H,config:N,util:L,info:S,send:z,refreshPevent:h,log:g,generatePtpParams:A,generatePtpForm:E};if(window.logger=X,!S.xcore){var Z="tap"in document.createElement("div")?"tap":"mousedown";L.registerEvent(document,Z,x),L.registerEvent(document,"touchstart",x)}return p(function(){H.refreshPtp(),m()}),X}();
"undefined"==typeof console&&(console={log:function(){}}),window.detePtp={triggerLog:function(){console.log("**************************:detePtp.triggerLog已经不再支持了，请尽快换用新版打点接口")},logFromtSend:function(){console.log("**************************:detePtp.logFromtSend已经不再支持了，请尽快换用新版打点接口")}};var trace=function(){"use strict";function extend(){var arguments$1=arguments;var target=arguments[0];var argsLen=arguments.length;for(var i=1;i<argsLen;i++){var source=arguments$1[i];for(var p in source){if(source.hasOwnProperty(p)){target[p]=source[p]}}}return target}function getValue(fn){if(typeof fn!=="function"){return fn}return fn()}var config={customUrl:function customUrl(){},getExtraTime:function getExtraTime(){return 0},blankTime:"__trace__headendt"};function getFormatUrl(url){url=url||location.href;var customUrl=getValue(config.customUrl);if(customUrl){customUrl=customUrl.split("https://").join("").split("http://").join("");return customUrl}if(typeof url==="string"){url=url.split("?")[0].split("#")[0].split("https://").join("").split("http://").join("");if(url.charAt(url.length-1)==="/"){url=url.substr(0,url.length-1)}}return url}var CHROME_IE_STACK_REGEXP=/^\s*at .*(\S+\:\d+|\(native\))/m;var SAFARI_NATIVE_CODE_REGEXP=/^(eval@)?(\[native code\])?$/;function _map(array,fn,thisArg){if(typeof Array.prototype.map==="function"){return array.map(fn,thisArg)}else{var output=new Array(array.length);for(var i=0;i<array.length;i++){output[i]=fn.call(thisArg,array[i])}return output}}function _filter(array,fn,thisArg){if(typeof Array.prototype.filter==="function"){return array.filter(fn,thisArg)}else{var output=[];for(var i=0;i<array.length;i++){if(fn.call(thisArg,array[i])){output.push(array[i])}}return output}}function _indexOf(array,target){if(typeof Array.prototype.indexOf==="function"){return array.indexOf(target)}else{for(var i=0;i<array.length;i++){if(array[i]===target){return i}}return-1}}var ErrorStackParser={parse:function ErrorStackParser$$parse(error){if(error.stack&&error.stack.match(CHROME_IE_STACK_REGEXP)){return this.parseV8OrIE(error)}else if(error.stack){return this.parseFFOrSafari(error)}else{return[]}},extractLocation:function ErrorStackParser$$extractLocation(urlLike){if(urlLike.indexOf(":")===-1){return[urlLike]}var regExp=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/;var parts=regExp.exec(urlLike.replace(/[\(\)]/g,""));return[parts[1],parts[2]||undefined,parts[3]||undefined]},parseV8OrIE:function ErrorStackParser$$parseV8OrIE(error){var filtered=_filter(error.stack.split("\n"),function(line){return!!line.match(CHROME_IE_STACK_REGEXP)},this);return _map(filtered,function(line){if(line.indexOf("(eval ")>-1){line=line.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,"")}var tokens=line.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1);var locationParts=this.extractLocation(tokens.pop());var functionName=tokens.join(" ")||undefined;var fileName=_indexOf(["eval","<anonymous>"],locationParts[0])>-1?undefined:locationParts[0];return{functionName:functionName,filename:fileName,row:locationParts[1],column:locationParts[2],line:line}},this)},parseFFOrSafari:function ErrorStackParser$$parseFFOrSafari(error){var filtered=_filter(error.stack.split("\n"),function(line){return!line.match(SAFARI_NATIVE_CODE_REGEXP)},this);return _map(filtered,function(line){if(line.indexOf(" > eval")>-1){line=line.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")}if(line.indexOf("@")===-1&&line.indexOf(":")===-1){return{functionName:line}}else{var tokens=line.split("@");var locationParts=this.extractLocation(tokens.pop());var functionName=tokens.join("@")||undefined;return{functionName:functionName,filename:locationParts[0],row:locationParts[1],column:locationParts[2],line:line}}},this)}};var parser={ErrorStackParser:ErrorStackParser,parse:function parse(error){var r=ErrorStackParser.parse(error);if(!r||r.length<=0){return error.message}var info=r[0];var strs=[];if(info.filename){var filename=info.filename;if(filename.lastIndexOf("/")>-1){filename=info.filename.slice(info.filename.lastIndexOf("/"))}strs.push(filename)}if(info.functionName){strs.push("@"+info.functionName)}if(info.row){strs.push(" "+info.row)}return error.message+" - "+strs.join("")},normalize:function normalize(error){var r=ErrorStackParser.parse(error);return r}};function getPlatform(){var ua=navigator.userAgent.toLowerCase();return/iphone|android|ipad/i.test(ua)?"h5":"pc"}function getBrowser(){var nAgt=navigator.userAgent;var unknown="其它";var browser=unknown;var version="";var majorVersion="";var verOffset;var ix;if((verOffset=nAgt.indexOf("Opera"))!==-1){browser="Opera";version=nAgt.substring(verOffset+6);if((verOffset=nAgt.indexOf("Version"))!==-1){version=nAgt.substring(verOffset+8)}}if((verOffset=nAgt.indexOf("OPR"))!==-1){browser="Opera";version=nAgt.substring(verOffset+4)}else if(nAgt.indexOf("MicroMessenger")!==-1){browser="Wechat"}else if(nAgt.indexOf("QQ")!==-1){browser="QQ"}else if((verOffset=nAgt.indexOf("MSIE"))!==-1){browser="IE";version=nAgt.substring(verOffset+5)}else if((verOffset=nAgt.indexOf("Chrome"))!==-1){browser="Chrome";version=nAgt.substring(verOffset+7)}else if((verOffset=nAgt.indexOf("Firefox"))!==-1){browser="Firefox";version=nAgt.substring(verOffset+8)}else if(nAgt.indexOf("Trident/")!==-1){browser="IE";version=nAgt.substring(nAgt.indexOf("rv:")+3)}else if((verOffset=nAgt.indexOf("Safari"))!==-1||nAgt.indexOf("iPhone")!==-1){browser="Safari";version=nAgt.substring(verOffset+7);if((verOffset=nAgt.indexOf("Version"))!==-1){version=nAgt.substring(verOffset+8)}}if((ix=version.indexOf(";"))!==-1){version=version.substring(0,ix)}if((ix=version.indexOf(" "))!==-1){version=version.substring(0,ix)}if((ix=version.indexOf(")"))!==-1){version=version.substring(0,ix)}if(version){majorVersion=parseInt(""+version,10);if(isNaN(majorVersion)){version=""+parseFloat(navigator.appVersion);majorVersion=parseInt(navigator.appVersion,10)}}return majorVersion?browser+"_"+majorVersion:browser+"_unknown"}function getOs(){var unknown="其它";var os=unknown;var nAgt=navigator.userAgent;var clientStrings=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var id in clientStrings){var cs=clientStrings[id];if(cs.r.test(nAgt)){os=cs.s;break}}var osVersion=unknown;if(/Windows/.test(os)){osVersion=/Windows (.*)/.exec(os)[1];os="Windows"}switch(os){case"Mac OS X":osVersion="";break;case"Android":var matched=/Android( |\/)([\.\_\d]+)/.exec(nAgt);if(matched&&matched.length>0){var arr=(matched[2]||"").split(".").slice(0,2);osVersion=arr.join(".")}break;case"iOS":osVersion=/OS (\d+)_(\d+)_?(\d+)?/.exec(nAgt);if(osVersion&&osVersion.length>0){osVersion=osVersion[1]+"."+osVersion[2]}break}return os===unknown?os:os+osVersion}function getScreen(){var _screen=window.screen;var width;var height;var screenSize="";if(_screen&&_screen.width){width=_screen.width?_screen.width:"";height=_screen.height?_screen.height:"";screenSize+=""+width+"x"+height}return screenSize}function getDevicePixelRatio(){var dpr=(window.devicePixelRatio?window.devicePixelRatio:1)-0;return dpr.toFixed(1)}function getDeviceInfo(){return{platform:getPlatform(),screen:getScreen(),os:getOs(),browser:getBrowser(),devicePixelRatio:getDevicePixelRatio()}}var Promise=window.Promise;function getPerformanceInfo(){var timing=window.performance&&window.performance.timing;if(!timing){return Promise.resolve({})}var blankTime=window[config.blankTime];if(!blankTime){blankTime=timing.domContentLoadedEventStart}var res={dns:timing.domainLookupEnd-timing.domainLookupStart,tcp:timing.connectEnd-timing.connectStart,request:timing.responseStart-timing.requestStart,response:timing.responseEnd-timing.responseStart,domContentLoad:timing.domContentLoadedEventEnd-timing.navigationStart,blankTime:blankTime-timing.navigationStart,readyTime:timing.domInteractive-timing.navigationStart,onloadTime:timing.loadEventEnd-timing.navigationStart,extraTime:getValue(config.getExtraTime)||0};return Promise.resolve(res)}function _log(){var logger=window.logger;if(!logger){return}var info=getDeviceInfo();getPerformanceInfo().then(function(performance){logger.log&&logger.log("016000001",extend({formatUrl:getFormatUrl()},info,performance))})}var queue=[];function isNewError(msg,file,line,col){var flag=true;for(var i=0;i<queue.length;i++){var item=queue[i]||{};if(item.msg===msg&&item.file===file&&item.line===line&&item.col===col){flag=false;break}}if(flag){queue.push({msg:msg,file:file,line:line,col:col})}return flag}function onErrorHandler(msg,file,line,col,err){if(!isNewError(msg,file,line,col)){return}var stack="";if(err){if(err.hasReported){return}stack=err.stack||""}queue.push({msg:msg,file:file,line:line,col:col});var logger=window.logger;if(!logger||!logger.log){return}if(typeof stack!=="string"){stack=""+stack}var data={type:0,msg:msg,stack:stack,ua:navigator.userAgent,formatUrl:getFormatUrl()};try{JSON.stringify(data);logger.log("016000011",data)}catch(_){}}var regParsePattern=/^\s*('?undefined'?|object|null) is not (a function|an object)\s*$/i;function shouldParse(msg){if(!msg){return false}if(regParsePattern.test(msg)){return true}if(msg.toLowerCase()==="cannot convert undefined or null to object"){return true}return false}function getErrorInfo(error,useParser){if(!error){return null}var data={};if(typeof error==="object"){data.msg=error.message||"";data.stack=error.stack||"";data.stack=data.stack;if(typeof data.stack!=="string"){data.stack=""+data.stack}}else{data.msg=error}data.ua=navigator.userAgent;data.type=1;if(shouldParse(data.msg)&&typeof error==="object"&&error.stack){try{data.msg=parser.parse(error)}catch(err){}}if(!isNewError(data.msg,data.stack)){return null}return data}var Logger={init:function init(){var interval=setInterval(function(){var timing=window.performance&&window.performance.timing;if(timing&&timing.loadEventEnd===0){return}clearInterval(interval);setTimeout(function(){_log()},10)},300);window.onerror=onErrorHandler},sendMsg:function sendMsg(error,extra,useParser){if(extra===void 0)extra=null;if(useParser===void 0)useParser=false;var data=getErrorInfo(error,useParser);var logger=window.logger;if(!data||!logger||!logger.log){return}var extraJSON="";if(extra){try{extraJSON=JSON.stringify(extra);if(extraJSON.length>1024){throw new Error("extra contains too much information")}}catch(e){extraJSON="";console&&console.warn&&console.warn(e)}}extend(data,{formatUrl:getFormatUrl(),extra:extraJSON});try{JSON.stringify(data);logger.log("016000011",data)}catch(err){}}};function isIE(){var myNav=navigator.userAgent.toLowerCase();return myNav.indexOf("msie")!==-1?parseInt(myNav.split("msie")[1],10):false}function _report(err){if(typeof err==="string"){err=new Error(err)}if(err.hasReported){return}err.hasReported=true;Logger.sendMsg(err,null,true)}function _inject(fn){if(typeof fn.apply!=="function"){return fn}return function(){try{return fn.apply(this,arguments)}catch(err){_report(err);console&&console.warn&&console.warn(err);throw err}}}function _transform(fn){if(!fn||typeof fn.apply!=="function"){return fn}return function(){var arguments$1=arguments;var args=[];var arg;for(var i=0,l=arguments.length;i<l;i++){arg=arguments$1[i];if(typeof arg==="function"){arg=_inject(arguments$1[i])}args.push(arg)}return fn.apply(this,args)}}function _mix(target,src){for(var key in src){target[key]=src[key]}}function injectjQuery(){var $=window.$;if(!$||$!==window.jQuery&&$!==window.Zepto){return}var _ready=$.fn.ready;$.fn.ready=_transform(_ready);var _ajax=$.ajax;if(typeof _ajax==="function"&&typeof _ajax.apply==="function"){$.ajax=function(url,options){var target=null;if(typeof options==="undefined"&&typeof url==="object"){target=url}else if(typeof options==="object"){target=options}if(target){if(typeof target.success==="function"){target.success=_inject(target.success)}if(typeof target.complete==="function"){target.complete=_inject(target.complete)}}return _ajax.apply($,arguments)}}}function injectRequireJS(){var _require=window.require;var _define=window.define;if(_define&&_define.amd&&_require){window.require=_transform(_require);_mix(window.require,_require);window.define=_transform(_define);_mix(window.define,_define)}}function injectSystem(){var _setTimeout=window.setTimeout;window.setTimeout=function(fn,ms){if(typeof fn==="function"){fn=_inject(fn)}switch(arguments.length){case 0:return _setTimeout();case 1:return _setTimeout(fn);default:return _setTimeout(fn,ms)}};var _setInterval=window.setInterval;window.setInterval=_transform(_setInterval);var _requestAnimationFrame=window.requestAnimationFrame;if(typeof _requestAnimationFrame==="function"){window.requestAnimationFrame=_transform(_requestAnimationFrame)}if(window.EventTarget&&window.EventTarget.prototype.addEventListener){var addEventListener=window.EventTarget.prototype.addEventListener;window.EventTarget.prototype.addEventListener=function(event,callback,bubble){if(callback&&typeof callback.handleEvent==="function"){callback.handleEvent=_inject(callback.handleEvent);return addEventListener.call(this,event,callback,bubble)}else{if(!callback.___wrapper){callback.___wrapper=_inject(callback)}return addEventListener.call(this,event,callback.___wrapper,bubble)}};var removeEventListener=window.EventTarget.prototype.removeEventListener;window.EventTarget.prototype.removeEventListener=function(event,callback,bubble){if(!callback){return removeEventListener.call(this,event,callback,bubble)}else{return removeEventListener.call(this,event,callback.___wrapper||callback,bubble)}}}}var Inject={init:function init(){if(isIE()&&isIE()<9){return}injectjQuery();injectRequireJS();injectSystem()}};var exit=false;if(window._trace){console&&console.warn&&console.warn("WARNING: you already import trace");exit=true}try{if(localStorage.__disable__trace__){console.warn("trace is disabled");exit=true}}catch(err){}if(!/^https?/.test(location.protocol)){console.warn("trace will work only under http or https protocol page");exit=true}if(!/(meilishuo|mogujie|xiaodian|uniny|meili-inc)\.com/.test(location.host)){console.warn("trace will work only under *.(meilishuo|mogujie|xiaodian|uniny|meili-inc).com");exit=true}var M=window.M;if(!M){console.warn("M is required before using trace");exit=true}else if(typeof M.isDev==="function"&&M.isDev()){console.warn("trace will work only under production mode");exit=true}if(typeof window.console==="undefined"){window.console={log:function(){},warn:function(){}}}if(!exit){Logger.init();Inject.init()}window._trace={send:function send(){},sendImmediately:function sendImmediately(){},version:"1.2.3",config:config,sendMsg:Logger.sendMsg};var index={};return index}();var ftx=function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){function n(t,e){var r=new i.FilterCSS(e);return r.process(t)}var o=r(10),i=r(2),a=r(8),s=r(13);"undefined"!=typeof window&&(window.FTX={filterCSS:n,filterHTML:o,isDomainAllowed:a,safeParamParse:s}),t.exports={filterCSS:n,filterHTML:o,isDomainAllowed:a,safeParamParse:s}},function(t,e,r){function n(){return Array.prototype.concat.apply([],arguments)}function o(t,e){for(var r=0;e[r];r++)if(e[r]===t)return!0;return!1}function i(t,e){var r,n;if(Array.prototype.indexOf)return t.indexOf(e);for(r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}var a=r(14),s=r(5);t.exports={indexOf:i,inArray:o,arrayMerge:n,isDomainAllowed:function(t,e){var r=a("hostname",t),i=[];e&&e.exception&&(s=n([],s,e.exception));for(var c=0;c<s.length;c++)i.push((!!~r.indexOf(s[c])).toString());return!(s.length&&!o("true",i))},forEach:function(t,e,r){var n,o;if(Array.prototype.forEach)return t.forEach(e,r);for(n=0,o=t.length;n<o;n++)e.call(r,t[n],n,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(t){return String.prototype.trimRight?t.trimRight():t.replace(/(\s*$)/g,"")},extend:function(t){t=t||{};for(var e=1;e<arguments.length;e++)if(arguments[e])for(var r in arguments[e])arguments[e].hasOwnProperty(r)&&(t[r]=arguments[e][r]);return t},getExtensionFileName:function(t){var e=/(\\+)/g,r=t.replace(e,"#"),n=r.split("#"),o=n[n.length-1],i=o.split(".");return i[i.length-1]},parseUrl:a}},function(t,e,r){function n(t){return void 0===t||null===t}function o(t){var e={};for(var r in t)e[r]=t[r];return e}function i(t){t=o(t||{}),t.whiteList=c.extend(t.whiteList||a.whiteList,t.exception),t.onAttr=t.onAttr||a.onAttr,t.onIgnoreAttr=t.onIgnoreAttr||a.onIgnoreAttr,t.safeAttrValue=t.safeAttrValue||a.safeAttrValue,this.options=t}var a=r(6),s=r(7),c=r(1);i.prototype.process=function(t){if(t=t||"",t=t.toString(),!t)return"";var e=this,r=e.options,o=r.whiteList,i=r.onAttr,a=r.onIgnoreAttr,c=r.safeAttrValue,l=s(t,function(t,e,r,s,l){var u=o[r],g=!1;if(u===!0?g=u:"function"==typeof u?g=u(s):u instanceof RegExp&&(g=u.test(s)),g!==!0&&(g=!1),s=c(r,s)){var f,m={position:e,sourcePosition:t,source:l,isWhite:g};return g?(f=i(r,s,m),n(f)?(~s.indexOf("!")&&~s.indexOf("important")&&(s=s.replace(/!/,"").replace(/important/,"").trim()),r+":"+s):f):(f=a(r,s,m),n(f)?void 0:f)}});return l},t.exports={FilterCSS:i,getDefaultWhiteList:a.getDefaultWhiteList}},,,function(t,e){var r=[".mogujie.com",".xiaodian.com",".meilishuo.com",".mogucdn.com",".meili-inc.com",".mogujie.org",".mogutestcdn.com",".uniny.com",".taoshij.com",".snobten.com",".mogujie.cn",".juangua.com",".qq.com",".myqcloud.com",".emarbox.com",".baidu.com",".googleadservices.com",".google-analytics.com",".googletagmanager.com",".google.com",".letv.com",".lecloud.com",".letvcloud.com",".gtimg.cn",".idqqimg.com","127.0.0.1","localhost"];t.exports=r},function(t,e){function r(){var t={};return t["align-content"]=!1,t["align-items"]=!1,t["align-self"]=!1,t["alignment-adjust"]=!1,t["alignment-baseline"]=!1,t.all=!1,t["anchor-point"]=!1,t.animation=!1,t["animation-delay"]=!1,t["animation-direction"]=!1,t["animation-duration"]=!1,t["animation-fill-mode"]=!1,t["animation-iteration-count"]=!1,t["animation-name"]=!1,t["animation-play-state"]=!1,t["animation-timing-function"]=!1,t.azimuth=!1,t["backface-visibility"]=!1,t.background=!0,t["background-attachment"]=!0,t["background-clip"]=!0,t["background-color"]=!0,t["background-image"]=!0,t["background-origin"]=!0,t["background-position"]=!0,t["background-repeat"]=!0,t["background-size"]=!0,t["baseline-shift"]=!1,t.binding=!1,t.bleed=!1,t["bookmark-label"]=!1,t["bookmark-level"]=!1,t["bookmark-state"]=!1,t.border=!0,t["border-bottom"]=!0,t["border-bottom-color"]=!0,t["border-bottom-left-radius"]=!0,t["border-bottom-right-radius"]=!0,t["border-bottom-style"]=!0,t["border-bottom-width"]=!0,t["border-collapse"]=!0,t["border-color"]=!0,t["border-image"]=!0,t["border-image-outset"]=!0,t["border-image-repeat"]=!0,t["border-image-slice"]=!0,t["border-image-source"]=!0,t["border-image-width"]=!0,t["border-left"]=!0,t["border-left-color"]=!0,t["border-left-style"]=!0,t["border-left-width"]=!0,t["border-radius"]=!0,t["border-right"]=!0,t["border-right-color"]=!0,t["border-right-style"]=!0,t["border-right-width"]=!0,t["border-spacing"]=!0,t["border-style"]=!0,t["border-top"]=!0,t["border-top-color"]=!0,t["border-top-left-radius"]=!0,t["border-top-right-radius"]=!0,t["border-top-style"]=!0,t["border-top-width"]=!0,t["border-width"]=!0,t.bottom=!1,t["box-align"]=!1,t["box-decoration-break"]=!1,t["box-direction"]=!1,t["box-flex"]=!1,t["box-flex-group"]=!1,t["box-lines"]=!1,t["box-ordinal-group"]=!0,t["box-orient"]=!1,t["box-pack"]=!0,t["box-shadow"]=!0,t["box-sizing"]=!0,t["box-snap"]=!0,t["box-suppress"]=!0,t["break-after"]=!0,t["break-before"]=!0,t["break-inside"]=!0,t["caption-side"]=!1,t.chains=!1,t.clear=!0,t.clip=!1,t["clip-path"]=!1,t["clip-rule"]=!1,t.color=!0,t["color-interpolation-filters"]=!0,t["column-count"]=!1,t["column-fill"]=!1,t["column-gap"]=!1,t["column-rule"]=!1,t["column-rule-color"]=!1,t["column-rule-style"]=!1,t["column-rule-width"]=!1,t["column-span"]=!1,t["column-width"]=!1,t.columns=!1,t.contain=!1,t.content=!1,t["counter-increment"]=!1,t["counter-reset"]=!1,t["counter-set"]=!1,t.crop=!1,t.cue=!1,t["cue-after"]=!1,t["cue-before"]=!1,t.cursor=!1,t.direction=!1,t.display=!0,t["display-inside"]=!0,t["display-list"]=!0,t["display-outside"]=!0,t["dominant-baseline"]=!1,t.elevation=!1,t["empty-cells"]=!1,t.filter=!1,t.flex=!1,t["flex-basis"]=!1,t["flex-direction"]=!1,t["flex-flow"]=!1,t["flex-grow"]=!1,t["flex-shrink"]=!1,t["flex-wrap"]=!1,t.float=!1,t["float-offset"]=!1,t["flood-color"]=!1,t["flood-opacity"]=!1,t["flow-from"]=!1,t["flow-into"]=!1,t.font=!0,t["font-family"]=!0,t["font-feature-settings"]=!0,t["font-kerning"]=!0,t["font-language-override"]=!0,t["font-size"]=!0,t["font-size-adjust"]=!0,t["font-stretch"]=!0,t["font-style"]=!0,t["font-synthesis"]=!0,t["font-variant"]=!0,t["font-variant-alternates"]=!0,t["font-variant-caps"]=!0,t["font-variant-east-asian"]=!0,t["font-variant-ligatures"]=!0,t["font-variant-numeric"]=!0,t["font-variant-position"]=!0,t["font-weight"]=!0,t.grid=!1,t["grid-area"]=!1,t["grid-auto-columns"]=!1,t["grid-auto-flow"]=!1,t["grid-auto-rows"]=!1,t["grid-column"]=!1,t["grid-column-end"]=!1,t["grid-column-start"]=!1,t["grid-row"]=!1,t["grid-row-end"]=!1,t["grid-row-start"]=!1,t["grid-template"]=!1,t["grid-template-areas"]=!1,t["grid-template-columns"]=!1,t["grid-template-rows"]=!1,t["hanging-punctuation"]=!1,t.height=!0,t.hyphens=!1,t.icon=!1,t["image-orientation"]=!1,t["image-resolution"]=!1,t["ime-mode"]=!1,t["initial-letters"]=!1,t["inline-box-align"]=!1,t["justify-content"]=!1,t["justify-items"]=!1,t["justify-self"]=!1,t.left=!1,t["letter-spacing"]=!0,t["lighting-color"]=!0,t["line-box-contain"]=!1,t["line-break"]=!1,t["line-grid"]=!1,t["line-height"]=!1,t["line-snap"]=!1,t["line-stacking"]=!1,t["line-stacking-ruby"]=!1,t["line-stacking-shift"]=!1,t["line-stacking-strategy"]=!1,t["list-style"]=!0,t["list-style-image"]=!0,t["list-style-position"]=!0,t["list-style-type"]=!0,t.margin=!0,t["margin-bottom"]=!0,t["margin-left"]=!0,t["margin-right"]=!0,t["margin-top"]=!0,t["marker-offset"]=!1,t["marker-side"]=!1,t.marks=!1,t.mask=!1,t["mask-box"]=!1,t["mask-box-outset"]=!1,t["mask-box-repeat"]=!1,t["mask-box-slice"]=!1,t["mask-box-source"]=!1,t["mask-box-width"]=!1,t["mask-clip"]=!1,t["mask-image"]=!1,t["mask-origin"]=!1,t["mask-position"]=!1,t["mask-repeat"]=!1,t["mask-size"]=!1,t["mask-source-type"]=!1,t["mask-type"]=!1,t["max-height"]=!0,t["max-lines"]=!1,t["max-width"]=!0,t["min-height"]=!0,t["min-width"]=!0,t.monochrome=!1,t["move-to"]=!1,t["nav-down"]=!1,t["nav-index"]=!1,t["nav-left"]=!1,t["nav-right"]=!1,t["nav-up"]=!1,t["object-fit"]=!1,t["object-position"]=!1,t.opacity=!1,t.order=!1,t.orphans=!1,t.outline=!1,t["outline-color"]=!1,t["outline-offset"]=!1,t["outline-style"]=!1,t["outline-width"]=!1,t.overflow=!1,t["overflow-wrap"]=!1,t["overflow-x"]=!1,t["overflow-y"]=!1,t.padding=!0,t["padding-bottom"]=!0,t["padding-left"]=!0,t["padding-right"]=!0,t["padding-top"]=!0,t.page=!1,t["page-break-after"]=!1,t["page-break-before"]=!1,t["page-break-inside"]=!1,t["page-policy"]=!1,t.pause=!1,t["pause-after"]=!1,t["pause-before"]=!1,t.perspective=!1,t["perspective-origin"]=!1,t.pitch=!1,t["pitch-range"]=!1,t["play-during"]=!1,t.position=!1,t["presentation-level"]=!1,t.quotes=!1,t["region-fragment"]=!1,t.resize=!1,t.rest=!1,t["rest-after"]=!1,t["rest-before"]=!1,t.richness=!1,t.right=!1,t.rotation=!1,t["rotation-point"]=!1,t["ruby-align"]=!1,t["ruby-merge"]=!1,t["ruby-position"]=!1,t.scan=!1,t["shape-image-threshold"]=!1,t["shape-outside"]=!1,t["shape-margin"]=!1,t.size=!1,t.speak=!1,t["speak-as"]=!1,t["speak-header"]=!1,t["speak-numeral"]=!1,t["speak-punctuation"]=!1,t["speech-rate"]=!1,t.stress=!1,t["string-set"]=!1,t["tab-size"]=!1,t["table-layout"]=!1,t["text-align"]=!0,t["text-align-last"]=!0,t["text-combine-upright"]=!0,t["text-decoration"]=!0,t["text-decoration-color"]=!0,t["text-decoration-line"]=!0,t["text-decoration-skip"]=!0,t["text-decoration-style"]=!0,t["text-emphasis"]=!0,t["text-emphasis-color"]=!0,t["text-emphasis-position"]=!0,t["text-emphasis-style"]=!0,t["text-height"]=!0,t["text-indent"]=!0,t["text-justify"]=!0,t["text-orientation"]=!0,t["text-overflow"]=!0,t["text-shadow"]=!0,t["text-space-collapse"]=!0,t["text-transform"]=!0,t["text-underline-position"]=!0,t["text-wrap"]=!0,t.top=!1,t.transform=!1,t["transform-origin"]=!1,t["transform-style"]=!1,t.transition=!1,t["transition-delay"]=!1,t["transition-duration"]=!1,t["transition-property"]=!1,t["transition-timing-function"]=!1,t["unicode-bidi"]=!1,t["vertical-align"]=!1,t.visibility=!1,t["voice-balance"]=!1,t["voice-duration"]=!1,t["voice-family"]=!1,t["voice-pitch"]=!1,t["voice-range"]=!1,t["voice-rate"]=!1,t["voice-stress"]=!1,t["voice-volume"]=!1,t.volume=!1,t["white-space"]=!1,t.widows=!1,t.width=!0,t["will-change"]=!1,t["word-break"]=!0,t["word-spacing"]=!0,t["word-wrap"]=!0,t["wrap-flow"]=!1,t["wrap-through"]=!1,t["writing-mode"]=!1,t["z-index"]=!1,t.zoom=!0,t}function n(t,e,r){}function o(t,e,r){}function i(t,e){return a.test(e)?"":s.test(e)?"":e}var a=/javascript\s*\:/gim,s=/expression/gim;e.whiteList=r(),e.getDefaultWhiteList=r,e.onAttr=n,e.onIgnoreAttr=o,e.safeAttrValue=i},function(t,e,r){function n(t,e){function r(){if(!i){var r=o.trim(t.slice(a,s)),n=r.indexOf(":");if(n!==-1){var l=o.trim(r.slice(0,n)),u=o.trim(r.slice(n+1));if(l){var g=e(a,c.length,l,u,r);g&&(c+=g+"; ")}}}a=s+1}t=o.trimRight(t),";"!==t[t.length-1]&&(t+=";");for(var n=t.length,i=!1,a=0,s=0,c="";s<n;s++){var l=t[s];if("/"===l&&"*"===t[s+1]){var u=t.indexOf("*/",s+2);if(u===-1)break;s=u+1,a=s+1,i=!1}else"("===l?i=!0:")"===l?i=!1:";"===l?i||r():"\n"===l&&r()}return o.trim(c)}var o=r(1);t.exports=n},function(t,e,r){var n=window.FTX||{},o=r(1);n.isDomainAllowed=o.isDomainAllowed,window.FTX=n,t.exports=o.isDomainAllowed},function(t,e,r){function n(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],body:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],button:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],head:[],header:[],hr:[],html:["lang"],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],link:["rel","href","type"],mark:[],meta:["name","content","charset"],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],title:[],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]}}function o(t,e,r){}function i(t,e,r){}function a(t,e,r){}function s(t,e,r){}function c(t){return t.replace(I,"&lt;").replace(j,"&gt;")}function l(t,e,r,n){if(r=d(r),"href"===e||"src"===e){if(r=A.trim(r),"#"===r)return"#";if(!A.isDomainAllowed(r))return"";if("http://"!==r.substr(0,7)&&"https://"!==r.substr(0,8)&&"mailto:"!==r.substr(0,7)&&"#"!==r[0]&&"/"!==r[0])return"";if("img"===t&&"src"===e){var o=A.getExtensionFileName(r);if(!~["jpg","jpeg","png","gif","webp"].indexOf(o))return""}}else if("background"===e){if(q.lastIndex=0,q.test(r))return""}else if("style"===e){if(O.lastIndex=0,O.test(r))return"";if(D.lastIndex=0,D.test(r)&&(q.lastIndex=0,q.test(r)))return"";n!==!1&&(n=n||T,r=n.process(r))}return r=h(r)}function u(t){return t.replace(S,"&quot;")}function g(t){return t.replace(z,'"')}function f(t){return t.replace(C,function(t,e){return"x"===e[0]||"X"===e[0]?String.fromCharCode(parseInt(e.substr(1),16)):String.fromCharCode(parseInt(e,10))})}function m(t){return t.replace(F,":").replace(L," ")}function p(t){for(var e="",r=0,n=t.length;r<n;r++)e+=t.charCodeAt(r)<32?" ":t.charAt(r);return A.trim(e)}function d(t){return t=g(t),t=f(t),t=m(t),t=p(t)}function h(t){return t=u(t),t=c(t)}function b(){return""}function v(t,e){function r(e){return!!n||A.indexOf(t,e)!==-1}"function"!=typeof e&&(e=function(){});var n=!Array.isArray(t),o=[],i=!1;return{onIgnoreTag:function(t,n,a){if(r(t)){if(a.isClosing){var s="[/removed]",c=a.position+s.length;return o.push([i!==!1?i:a.position,c]),i=!1,s}return i||(i=a.position),"[removed]"}return e(t,n,a)},remove:function(t){var e="",r=0;return A.forEach(o,function(n){e+=t.slice(r,n[0]),r=n[1]}),e+=t.slice(r)}}}function x(t){return t.replace(V,"")}function w(t){var e=t.split("");return e=e.filter(function(t){var e=t.charCodeAt(0);return 127!==e&&(!(e<=31)||(10===e||13===e))}),e.join("")}var y=r(2).FilterCSS,k=r(2).getDefaultWhiteList,A=r(1),T=new y,I=/</g,j=/>/g,S=/"/g,z=/&quot;/g,C=/&#([a-zA-Z0-9]*);?/gim,F=/&colon;?/gim,L=/&newline;?/gim,q=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,O=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,D=/u\s*r\s*l\s*\(.*/gi,V=/<!--[\s\S]*?-->/g;e.whiteList=n(),e.getDefaultWhiteList=n,e.onTag=o,e.onIgnoreTag=i,e.onTagAttr=a,e.onIgnoreTagAttr=s,e.safeAttrValue=l,e.escapeHtml=c,e.escapeQuote=u,e.unescapeQuote=g,e.escapeHtmlEntities=f,e.escapeDangerHtml5Entities=m,e.clearNonPrintableCharacter=p,e.friendlyAttrValue=d,e.escapeAttrValue=h,e.onIgnoreTagStripAll=b,e.StripTagBody=v,e.stripCommentTag=x,e.stripBlankChar=w,e.cssFilter=T,e.getDefaultCSSWhiteList=k},function(t,e,r){function n(t,e){var r=new o(e);return r.process(t)}var o=r(12);t.exports=n},function(t,e,r){function n(t){var e,r=t.indexOf(" ");return e=r===-1?t.slice(1,-1):t.slice(1,r+1),e=g.trim(e).toLowerCase(),"/"===e.slice(0,1)&&(e=e.slice(1)),"/"===e.slice(-1)&&(e=e.slice(0,-1)),e}function o(t){return"</"===t.slice(0,2)}function i(t,e,r){var i="",a=0,s=!1,c=!1,l=0,u=t.length,g="",f="";for(l=0;l<u;l++){var m=t.charAt(l);if(s===!1){if("<"===m){s=l;continue}}else if(c===!1){if("<"===m){i+=r(t.slice(a,l)),s=l,a=l;continue}if(">"===m){i+=r(t.slice(a,s)),g=t.slice(s,l+1),f=n(g),i+=e(s,i.length,f,g,o(g)),a=l+1,s=!1;continue}if(('"'===m||"'"===m)&&"="===t.charAt(l-1)){c=m;continue}}else if(m===c){c=!1;continue}}return a<t.length&&(i+=r(t.substr(a))),i}function a(t,e){function r(t,r){if(t=g.trim(t),t=t.replace(f,"").toLowerCase(),!(t.length<1)){var n=e(t,r||"");n&&o.push(n)}}for(var n=0,o=[],i=!1,a=t.length,l=0;l<a;l++){var m,p,d=t.charAt(l);if(i!==!1||"="!==d)if(i===!1||l!==n||'"'!==d&&"'"!==d||"="!==t.charAt(l-1))if(" "!==d);else{if(i===!1){if(p=s(t,l),p===-1){m=g.trim(t.slice(n,l)),r(m),i=!1,n=l+1;continue}l=p-1;continue}if(p=c(t,l-1),p===-1){m=g.trim(t.slice(n,l)),m=u(m),r(i,m),i=!1,n=l+1;continue}}else{if(p=t.indexOf(d,l+1),p===-1)break;m=g.trim(t.slice(n+1,p)),r(i,m),i=!1,l=p,n=l+1}else i=t.slice(n,l),n=l+1}return n<t.length&&(i===!1?r(t.slice(n)):r(i,u(g.trim(t.slice(n))))),g.trim(o.join(" "))}function s(t,e){for(;e<t.length;e++){var r=t[e];if(" "!==r)return"="===r?e:-1}}function c(t,e){for(;e>0;e--){var r=t[e];if(" "!==r)return"="===r?e:-1}}function l(t){return'"'===t[0]&&'"'===t[t.length-1]||"'"===t[0]&&"'"===t[t.length-1]}function u(t){return l(t)?t.substr(1,t.length-2):t}var g=r(1),f=/[^a-zA-Z0-9_:\.\-]/gim;e.parseTag=i,e.parseAttr=a},function(t,e,r){function n(t){return void 0===t||null===t}function o(t){var e=t.indexOf(" ");if(e===-1)return{html:"",closing:"/"===t[t.length-2]};t=f.trim(t.slice(e+1,-1));var r="/"===t[t.length-1];return r&&(t=f.trim(t.slice(0,-1))),{html:t,closing:r}}function i(t){var e={};for(var r in t)e[r]=t[r];return e}function a(t){t=i(t||{}),t.stripIgnoreTag&&(t.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),t.onIgnoreTag=c.onIgnoreTagStripAll),t.whiteList=f.extend(t.whiteList||c.whiteList,t.exception),t.onTag=t.onTag||c.onTag,t.onTagAttr=t.onTagAttr||c.onTagAttr,t.onIgnoreTag=t.onIgnoreTag||c.onIgnoreTag,t.onIgnoreTagAttr=t.onIgnoreTagAttr||c.onIgnoreTagAttr,t.safeAttrValue=t.safeAttrValue||c.safeAttrValue,t.escapeHtml=t.escapeHtml||c.escapeHtml,this.options=t,t.inlineStyleFilter===!1?this.cssFilter=!1:"boolean"==typeof t.inlineStyleFilter&&t.inlineStyleFilter?this.cssFilter=new s:(t.cssFilter=t.inlineStyleFilter||null,this.cssFilter=new s(t.cssFilter))}var s=r(2).FilterCSS,c=r(9),l=r(11),u=l.parseTag,g=l.parseAttr,f=r(1);a.prototype.process=function(t){if(t=t||"",t=t.toString(),!t)return"";var e=this,r=e.options,i=r.whiteList,a=r.onTag,s=r.onIgnoreTag,l=r.onTagAttr,m=r.onIgnoreTagAttr,p=r.safeAttrValue,d=r.escapeHtml,h=e.cssFilter;r.stripBlankChar&&(t=c.stripBlankChar(t)),r.allowCommentTag||(t=c.stripCommentTag(t));var b=!1;if(r.stripIgnoreTagBody){var b=c.StripTagBody(r.stripIgnoreTagBody,s);s=b.onIgnoreTag}var v=u(t,function(t,e,r,c,u){var b={sourcePosition:t,position:e,isClosing:u,isWhite:r in i},v=a(r,c,b);if(!n(v))return v;if(b.isWhite){if(b.isClosing)return"</"+r+">";var x=o(c),w=i[r];w.push("id","class","style");var y=g(x.html,function(t,e){var o=f.indexOf(w,t)!==-1,i=l(r,t,e,o);if(!n(i))return i;if(o)return e=p(r,t,e,h),e?t+'="'+e+'"':t;var i=m(r,t,e,o);return n(i)?void 0:i}),c="<"+r;return y&&(c+=" "+y),x.closing&&(c+=" /"),c+=">"}var v=s(r,c,b);return n(v)?d(c):v},d);return b&&(v=b.remove(v)),v},t.exports=a},function(t,e){function r(t){return t.replace(/^\s+|\s+$/gm,"")}function n(t){return"string"==typeof t&&t?(t=r(t),/^[\],:{}\s]*$/.test(t.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/(?:'|")[^'"\\\n\r]*('|")|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,":").replace(/\w*\s*\:/g,":"))?new Function("return "+t)():{}):{}}function o(t){t=r(t.replace(/\(|\]\.|\+|\)|\\|new\s/g,"@"));try{return n(t)}catch(t){}}t.exports=o},function(t,e){function r(){return new RegExp(/(.*?)\.?([^\.]*?)\.?(com|net|org|biz|ws|in|me|co\.uk|co|org\.uk|ltd\.uk|plc\.uk|me\.uk|edu|mil|br\.com|cn\.com|eu\.com|hu\.com|no\.com|qc\.com|sa\.com|se\.com|se\.net|us\.com|uy\.com|ac|co\.ac|gv\.ac|or\.ac|ac\.ac|af|am|as|at|ac\.at|co\.at|gv\.at|or\.at|asn\.au|com\.au|edu\.au|org\.au|net\.au|id\.au|be|ac\.be|adm\.br|adv\.br|am\.br|arq\.br|art\.br|bio\.br|cng\.br|cnt\.br|com\.br|ecn\.br|eng\.br|esp\.br|etc\.br|eti\.br|fm\.br|fot\.br|fst\.br|g12\.br|gov\.br|ind\.br|inf\.br|jor\.br|lel\.br|med\.br|mil\.br|net\.br|nom\.br|ntr\.br|odo\.br|org\.br|ppg\.br|pro\.br|psc\.br|psi\.br|rec\.br|slg\.br|tmp\.br|tur\.br|tv\.br|vet\.br|zlg\.br|br|ab\.ca|bc\.ca|mb\.ca|nb\.ca|nf\.ca|ns\.ca|nt\.ca|on\.ca|pe\.ca|qc\.ca|sk\.ca|yk\.ca|ca|cc|ac\.cn|com\.cn|edu\.cn|gov\.cn|org\.cn|bj\.cn|sh\.cn|tj\.cn|cq\.cn|he\.cn|nm\.cn|ln\.cn|jl\.cn|hl\.cn|js\.cn|zj\.cn|ah\.cn|gd\.cn|gx\.cn|hi\.cn|sc\.cn|gz\.cn|yn\.cn|xz\.cn|sn\.cn|gs\.cn|qh\.cn|nx\.cn|xj\.cn|tw\.cn|hk\.cn|mo\.cn|cn|cx|cz|de|dk|fo|com\.ec|tm\.fr|com\.fr|asso\.fr|presse\.fr|fr|gf|gs|co\.il|net\.il|ac\.il|k12\.il|gov\.il|muni\.il|ac\.in|co\.in|org\.in|ernet\.in|gov\.in|net\.in|res\.in|is|it|ac\.jp|co\.jp|go\.jp|or\.jp|ne\.jp|ac\.kr|co\.kr|go\.kr|ne\.kr|nm\.kr|or\.kr|li|lt|lu|asso\.mc|tm\.mc|com\.mm|org\.mm|net\.mm|edu\.mm|gov\.mm|ms|nl|no|nu|pl|ro|org\.ro|store\.ro|tm\.ro|firm\.ro|www\.ro|arts\.ro|rec\.ro|info\.ro|nom\.ro|nt\.ro|se|si|com\.sg|org\.sg|net\.sg|gov\.sg|sk|st|tf|ac\.th|co\.th|go\.th|mi\.th|net\.th|or\.th|tm|to|com\.tr|edu\.tr|gov\.tr|k12\.tr|net\.tr|org\.tr|com\.tw|org\.tw|net\.tw|ac\.uk|uk\.com|uk\.net|gb\.com|gb\.net|vg|sh|kz|ch|info|ua|gov|name|pro|ie|hk|com\.hk|org\.hk|net\.hk|edu\.hk|us|tk|cd|by|ad|lv|eu\.lv|bz|es|jp|cl|ag|mobi|eu|co\.nz|org\.nz|net\.nz|maori\.nz|iwi\.nz|io|la|md|sc|sg|vc|tw|travel|my|se|tv|pt|com\.pt|edu\.pt|asia|fi|com\.ve|net\.ve|fi|org\.ve|web\.ve|info\.ve|co\.ve|tel|im|gr|ru|net\.ru|org\.ru|hr|com\.hr|ly|xyz)$/)}function n(t){return decodeURIComponent(t.replace(/\+/g," "))}function o(t,e){var r=t.charAt(0),n=e.split(r);return r===t?n:(t=parseInt(t.substring(1),10),n[t<0?n.length+t:t-1])}function i(t,e){for(var r=t.charAt(0),o=e.split("&"),i=[],a={},s=[],c=t.substring(1),l=0,u=o.length;l<u;l++)if(i=o[l].match(/(.*?)=(.*)/),i||(i=[o[l],o[l],""]),""!==i[1].replace(/\s/g,"")){if(i[2]=n(i[2]||""),c===i[1])return i[2];s=i[1].match(/(.*)\[([0-9]+)\]/),s?(a[s[1]]=a[s[1]]||[],a[s[1]][s[2]]=i[2]):a[i[1]]=i[2]}return r===t?a:a[c]}function a(t,e){var n,a={};if("tld?"===t)return r();if(e=e||window.location.toString(),!t)return e;if(t=t.toString(),n=e.match(/^mailto:([^\/].+)/))a.protocol="mailto",a.email=n[1];else{if((n=e.match(/(.*?)\/#\!(.*)/))&&(e=n[1]+n[2]),(n=e.match(/(.*?)#(.*)/))&&(a.hash=n[2],e=n[1]),a.hash&&t.match(/^#/))return i(t,a.hash);if((n=e.match(/(.*?)\?(.*)/))&&(a.query=n[2],e=n[1]),a.query&&t.match(/^\?/))return i(t,a.query);if((n=e.match(/(.*?)\:?\/\/(.*)/))&&(a.protocol=n[1].toLowerCase(),e=n[2]),(n=e.match(/(.*?)(\/.*)/))&&(a.path=n[2],e=n[1]),a.path=(a.path||"").replace(/^([^\/])/,"/$1"),t.match(/^[\-0-9]+$/)&&(t=t.replace(/^([^\/])/,"/$1")),t.match(/^\//))return o(t,a.path.substring(1));if(n=o("/-1",a.path.substring(1)),n&&(n=n.match(/(.*?)\.(.*)/))&&(a.file=n[0],a.filename=n[1],a.fileext=n[2]),(n=e.match(/(.*)\:([0-9]+)$/))&&(a.port=n[2],e=n[1]),(n=e.match(/(.*?)@(.*)/))&&(a.auth=n[1],e=n[2]),a.auth&&(n=a.auth.match(/(.*)\:(.*)/),a.user=n?n[1]:a.auth,a.pass=n?n[2]:void 0),a.hostname=e.toLowerCase(),"."===t.charAt(0))return o(t,a.hostname);r()&&(n=a.hostname.match(r()),n&&(a.tld=n[3],a.domain=n[2]?n[2]+"."+n[3]:void 0,a.sub=n[1]||void 0)),a.port=a.port||("https"===a.protocol?"443":"80"),a.protocol=a.protocol||("443"===a.port?"https":"http")}return t in a?a[t]:"{}"===t?a:void 0}t.exports=a}]);